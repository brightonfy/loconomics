/** WeeklySchedule component styles **/

@import '../utils/isolated.styl';

.WeeklySchedule {

    // Some values from the Bootstrap-Switch plugin styles
    $switchBtn-partsWidth = 53px;
    $switchBtn-height = 32px;
    // 2 visible handles/parts and 2px of lateral border:
    $switchBtn-width = ($switchBtn-partsWidth * 2) + 2px;
    $gapWithSwitch = 14px;
    $addRemBtn-width = 40px;

    // Center the container, make it uses just the needed width
    text-align: left;
    > form.container {
        margin: auto;
        // Auto width
        display: inline-block;
        // Restore align for content
        text-align: left;
    }

    .WeeklySchedule-weekDay {

        margin-bottom: 14px;

        /* Scheme
            .WeeklySchedule-weekDay
              > .WeeklySchedule-weekDay-switch
                > label
                > .bootstrap-switch | input[type=checkbox]
              > .WeeklySchedule-weekDay-timeSelectors
                > .WeeklySchedule-weekDay-timeRange
                  > button
                  > select
                  > span
                  > select
                > button
        */

        .WeeklySchedule-weekDay-switch {
            // Small margin between switch and timeSelectors, like the
            // margin labels have but that need to be reset for internal label
            margin-bottom: 5px;
            > label {
                margin-bottom: 0;
            }
            /* The label is placed at in markup before the input/switch
                but we want it visually after it, so we float to left the
                input.
            */
            > .bootstrap-switch,
            > input[type=checkbox] {
                float: left;
            }
            // More styling for the label, ensuring a gap with the input,
            // correct alignment
            > label {
                // IMPORTANT: A gap carefully aligned in vertical
                // with the dropdowns .WeeklySchedule-weekDay-timeSelectors
                padding-left: $gapWithSwitch;
                // To be vertically aligned with the Switch button,
                // using the Switch height:
                line-height: $switchBtn-height;
                vertical-align: middle;
            }
        }

        // IMPORTANT: Force SWITCH width to avoid it automatic size (based on text size,
        // font-family varies from platform to platform)
        // Using the wider handle size tested --on browser.
        .bootstrap-switch-container {
            > span {
                width: $switchBtn-partsWidth !important;
            }
        }

        .WeeklySchedule-weekDay-timeSelectors {
            // IMPORTANT: the remove/add buttons are aligned in the right with the top switch button
            padding-left: $switchBtn-width - $addRemBtn-width; //68px;

            // IMPORTANT: Next left margins and select paddings are carefully choosen so
            // it fits one row in a screen size of 320px (original iPhone).
            .WeeklySchedule-weekDay-timeRange {
                .btn + select {
                    margin-left: 6px;
                }

                margin-bottom: 2px;

                select {
                    width: auto;
                    display: inline-block;
                    // Fix the total height and the strange margin added
                    vertical-align: middle;
                    // 4px horizontal is OK in iPhone: enought padding without requiring 2 lines,
                    // while in Chrome and Firefox, for some reason, they add an additional internal
                    // gap between padding and the beggining of the text. Thats make it a bit wider
                    // in Chrome/Android, but not enought to have problems from 320px screen width.
                    padding: 6px 4px;
                }
            }

            .btn {
                border-radius: border-radius-base;
            }
        }
    }

    .WeeklySchedule-allTime {

        isolated();

        display: block;
        text-align: center;

        /* Scheme
            .WeeklySchedule-allTime
              > label
              > .bootstrap-switch | input[type=checkbox]
        */
        // Label must be vertically aligned with the input
        > label {
            line-height: $switchBtn-height;
        }
        // A gap between label and input
        > .bootstrap-switch,
        > input[type=checkbox] {
            margin-left: 1em;
        }
    }
}
