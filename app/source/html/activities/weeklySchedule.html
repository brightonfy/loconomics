<!-- WeeklySchedule activity -->
<div class="LightForm" data-activity="weeklySchedule">

    <h2 class="SectionTitle">Weekly schedule</h2>
    
    <script type="text/html" id="weeklySchedule-timeSelectorHourMinutesTpl">
        <select data-bind="value: value, disable: isLocked">
            <option value="0">12:00am</option>
            <option value="30">12:30am</option>
            <option value="60">1:00am</option>
            <option value="90">1:30am</option>
            <option value="120">2:00am</option>
            <option value="150">2:30am</option>
            <option value="180">3:00am</option>
            <option value="210">3:30am</option>
            <option value="240">4:00am</option>
            <option value="270">4:30am</option>
            <option value="300">5:00am</option>
            <option value="330">5:30am</option>
            <option value="360">6:00am</option>
            <option value="390">6:30am</option>
            <option value="420">7:00am</option>
            <option value="450">7:30am</option>
            <option value="480">8:00am</option>
            <option value="510">8:30am</option>
            <option value="540">9:00am</option>
            <option value="570">9:30am</option>
            <option value="600">10:00am</option>
            <option value="630">10:30am</option>
            <option value="660">11:00am</option>
            <option value="690">11:30am</option>
            <option value="720">12:00pm</option>
            <option value="750">12:30pm</option>
            <option value="780">1:00pm</option>
            <option value="810">1:30pm</option>
            <option value="840">2:00pm</option>
            <option value="870">2:30pm</option>
            <option value="900">3:00pm</option>
            <option value="930">3:30pm</option>
            <option value="960">4:00pm</option>
            <option value="990">4:30pm</option>
            <option value="1020">5:00pm</option>
            <option value="1050">5:30pm</option>
            <option value="1080">6:00pm</option>
            <option value="1110">6:30pm</option>
            <option value="1140">7:00pm</option>
            <option value="1170">7:30pm</option>
            <option value="1200">8:00pm</option>
            <option value="1230">8:30pm</option>
            <option value="1260">9:00pm</option>
            <option value="1290">9:30pm</option>
            <option value="1320">10:00pm</option>
            <option value="1350">10:30pm</option>
            <option value="1380">11:00pm</option>
            <option value="1410">11:30pm</option>
            <option value="1440">12:00am</option>
        </select>
    </script>
    <script type="text/html" id="weeklySchedule-timeSelectorHourTpl">
        <select data-bind="value: value, disable: isLocked, valueAllowUnset: true">
            <!-- ko if: midnightAtBeginning --><option value="0">12:00am</option><!-- /ko -->
            <option value="1">1:00am</option>
            <option value="1.5">1:30am</option>
            <option value="2">2:00am</option>
            <option value="2.5">2:30am</option>
            <option value="3">3:00am</option>
            <option value="3.5">3:30am</option>
            <option value="4">4:00am</option>
            <option value="4.5">4:30am</option>
            <option value="5">5:00am</option>
            <option value="5.5">5:30am</option>
            <option value="6">6:00am</option>
            <option value="6.5">6:30am</option>
            <option value="7">7:00am</option>
            <option value="7.5">7:30am</option>
            <option value="8">8:00am</option>
            <option value="8.5">8:30am</option>
            <option value="9">9:00am</option>
            <option value="9.5">9:30am</option>
            <option value="10">10:00am</option>
            <option value="10.5">10:30am</option>
            <option value="11">11:00am</option>
            <option value="11.5">11:30am</option>
            <option value="12">12:00pm</option>
            <option value="12.5">12:30pm</option>
            <option value="13">1:00pm</option>
            <option value="13.5">1:30pm</option>
            <option value="14">2:00pm</option>
            <option value="14.5">2:30pm</option>
            <option value="15">3:00pm</option>
            <option value="15.5">3:30pm</option>
            <option value="16">4:00pm</option>
            <option value="16.5">4:30pm</option>
            <option value="17">5:00pm</option>
            <option value="17.5">5:30pm</option>
            <option value="18">6:00pm</option>
            <option value="18.5">6:30pm</option>
            <option value="19">7:00pm</option>
            <option value="19.5">7:30am</option>
            <option value="20">8:00pm</option>
            <option value="20.5">8:30pm</option>
            <option value="21">9:00pm</option>
            <option value="21.5">9:30pm</option>
            <option value="22">10:00pm</option>
            <option value="22.5">10:30pm</option>
            <option value="23">11:00pm</option>
            <option value="23.5">11:30pm</option>
            <!-- ko if: midnightAtEnd --><option value="24">12:00am</option><!-- /ko -->
        </select>
    </script>
    <script type="text/html" id="weeklySchedule-weekDayTpl">
        <div class="isolated weeklySchedule-weekDay">
            <div>
                <label>
                    <input type="checkbox" class="checkbox"
                           data-bind="switch: { disabled: isLocked, state: day().isEnabled }"
                   /><span data-bind="text: label"></span>
                </label>
            </div>
            <div class="weeklySchedule-weekDay-timeSelectors"
                 data-bind="visible: day().isEnabled">
                <!-- ko template: { 
                        name: 'weeklySchedule-timeSelectorHourTpl',
                        data: {
                            value: day().fromHour,
                            isLocked: isLocked,
                            midnightAtBeginning: true,
                            midnightAtEnd: false
                        }
                } --><!-- /ko -->
                <span>to</span>
                <!-- ko template: { 
                        name: 'weeklySchedule-timeSelectorHourTpl',
                        data: {
                            value: day().toHour,
                            isLocked: isLocked,
                            midnightAtBeginning: false,
                            midnightAtEnd: true
                        }
                } --><!-- /ko -->
            </div>
        </div>
    </script>
    
    <form data-bind="submit: save" class="container">

        <div class="weeklySchedule-allTime">
            <label>
                <span>All days/times</span>
                <input type="checkbox" data-bind="switch: { disabled: isLocked, state: schedule.isAllTime }" />
            </label>
        </div>
        <div data-bind="visible: !schedule.isAllTime()">
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.monday, label: 'Monday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.tuesday, label: 'Tuesday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.wednesday, label: 'Wednesday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.thursday, label: 'Thursday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.friday, label: 'Friday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.saturday, label: 'Saturday', isLocked: isLocked } } --><!-- /ko -->
            <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.sunday, label: 'Sunday', isLocked: isLocked } } --><!-- /ko -->
            
            <div class="form-group">
                <label class="control-label">Time Zone:</label>
                <span class="form-control-static" data-bind="text: schedule.timeZoneDisplayName"></span>
            </div>
        </div>

        <div class="LightForm-submitBar">
            <div>
                <button type="submit" value="Save" class="btn btn-primary btn-block" data-bind="text: submitText, disable: isLocked">Save</button>
            </div>
        </div>
    </form>
</div>
