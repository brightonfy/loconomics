<!-- WeeklySchedule activity -->
<div data-activity="weeklySchedule" class="Boxes-sm animated">
    <app-inline-user-menu>@render('parts/UserMenuContents.html')</app-inline-user-menu>
    <div class="container"> 
        <div class="row">
            <div class="SubSectionNavBar hidden-xs hidden-sm">
                <ul>
                    <li>
                        <a href="/scheduling">
                            <i class="fa fa-fw ion-ios-arrow-thin-left"></i> Scheduler
                        </a>
                    </li>
                </ul>
            </div>
            <div class="col-md-7 col-sm-reset">
                <h2 class="SectionTitle">
                    <span>Your weekly schedule</span>
                    <span class="pull-right hidden-xs hidden-sm"><a class="hidden-xs hidden-sm" href="https://loconomics.com/#!/help/relatedArticles/201964173-setting-your-weekly-schedule" target="_blank">Help <i class="fa fa-fw ion-ios-help-outline"></i></a>
                    </span>
                </h2>
                <script type="text/html" id="weeklySchedule-timeSelectorHourMinutesTpl">
                    <select data-bind="value: value, disable: isLocked, valueAllowUnset: true" class="form-control select-unstyled select-unstyled--centered">
                        <!-- ko if: midnightAtBeginning --><option value="0">12:00am</option><!-- /ko -->
                        <option value="30">12:30am</option>
                        <option value="60">1:00am</option>
                        <option value="90">1:30am</option>
                        <option value="120">2:00am</option>
                        <option value="150">2:30am</option>
                        <option value="180">3:00am</option>
                        <option value="210">3:30am</option>
                        <option value="240">4:00am</option>
                        <option value="270">4:30am</option>
                        <option value="300">5:00am</option>
                        <option value="330">5:30am</option>
                        <option value="360">6:00am</option>
                        <option value="390">6:30am</option>
                        <option value="420">7:00am</option>
                        <option value="450">7:30am</option>
                        <option value="480">8:00am</option>
                        <option value="510">8:30am</option>
                        <option value="540">9:00am</option>
                        <option value="570">9:30am</option>
                        <option value="600">10:00am</option>
                        <option value="630">10:30am</option>
                        <option value="660">11:00am</option>
                        <option value="690">11:30am</option>
                        <option value="720">12:00pm</option>
                        <option value="750">12:30pm</option>
                        <option value="780">1:00pm</option>
                        <option value="810">1:30pm</option>
                        <option value="840">2:00pm</option>
                        <option value="870">2:30pm</option>
                        <option value="900">3:00pm</option>
                        <option value="930">3:30pm</option>
                        <option value="960">4:00pm</option>
                        <option value="990">4:30pm</option>
                        <option value="1020">5:00pm</option>
                        <option value="1050">5:30pm</option>
                        <option value="1080">6:00pm</option>
                        <option value="1110">6:30pm</option>
                        <option value="1140">7:00pm</option>
                        <option value="1170">7:30pm</option>
                        <option value="1200">8:00pm</option>
                        <option value="1230">8:30pm</option>
                        <option value="1260">9:00pm</option>
                        <option value="1290">9:30pm</option>
                        <option value="1320">10:00pm</option>
                        <option value="1350">10:30pm</option>
                        <option value="1380">11:00pm</option>
                        <option value="1410">11:30pm</option>
                        <!-- ko if: midnightAtEnd --><option value="1439">12:00am</option><!-- /ko -->
                    </select>
                </script>
                <script type="text/html" id="weeklySchedule-timeRangeTpl">
                    <div class="weeklySchedule-weekDay-timeRange"><button type="button" class="btn btn-default" data-bind="click: $parent.day.removeTimeRange">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span><span class="sr-only">Remove time</span>
                        </button><!-- ko template: { 
                                name: 'weeklySchedule-timeSelectorHourMinutesTpl',
                                data: {
                                    value: fromMinute,
                                    isLocked: $parent.isLocked,
                                    midnightAtBeginning: true,
                                    midnightAtEnd: false
                                }
                        } --><!-- /ko --> <span>to</span> <!-- ko template: { 
                                name: 'weeklySchedule-timeSelectorHourMinutesTpl',
                                data: {
                                    value: toMinute,
                                    isLocked: $parent.isLocked,
                                    midnightAtBeginning: false,
                                    midnightAtEnd: true
                                }
                        } -->
                    <!-- /ko --></div>
                </script>
                <script type="text/html" id="weeklySchedule-weekDayTpl">
                    <div class="weeklySchedule-weekDay">
                        <div>
                            <label>
                                <input type="checkbox" class="checkbox"
                                       data-bind="switch: { disabled: isLocked, state: day.isEnabled }"
                               /><span data-bind="text: label"></span>
                            </label>
                        </div>
                        <div class="weeklySchedule-weekDay-timeSelectors"
                             data-bind="visible: day.isEnabled">
                            <!-- ko template: { name: 'weeklySchedule-timeRangeTpl', foreach: day() } --><!-- /ko -->
                            <button type="button" class="btn btn-default" data-bind="click: day.addTimeRange, visible: day.canAddMore">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span><span class="sr-only">Add times</span>
                            </button>
                        </div>
                    </div>
                </script>

                <form data-bind="submit: save" class="container-fluid LightForm">

                    <div class="weeklySchedule-allTime">
                        <label>
                            <span>All days/times</span> 
                            <input type="checkbox" data-bind="switch: { disabled: isLocked, state: schedule.isAllTime, onColor: 'success', offColor: 'lightgray'}" />
                        </label>
                    </div>
                    <div class="weeklySchedule-days" data-bind="visible: !schedule.isAllTime()">
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.monday, label: 'Mondays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.tuesday, label: 'Tuesdays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.wednesday, label: 'Wednesdays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.thursday, label: 'Thursdays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.friday, label: 'Fridays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.saturday, label: 'Saturdays', isLocked: isLocked } } --><!-- /ko -->
                        <!-- ko template: { name: 'weeklySchedule-weekDayTpl', data: { day: schedule.sunday, label: 'Sundays', isLocked: isLocked } } --><!-- /ko -->

                        <div class="form-group">
                            <label class="control-label">Time Zone:</label>
                            <span class="form-control-static" data-bind="text: schedule.timeZoneDisplayName"></span>
                        </div>
                    </div>

                    <div class="LightForm-submitBar">
                        <div>
                            <button type="submit" value="Save" class="btn btn-primary btn-block" data-bind="text: submitText, disable: isLocked">Save</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="SideMenu hidden-xs hidden-sm col-md-3 col-md-offset-1">
                <app-inline-side-menu params="vocElement: 'scheduling'"></app-inline-side-menu>
            </div>
        </div>
    </div>
</div>    
