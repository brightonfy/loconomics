<div class="form-group">
    <label for="homeSearch" class="sr-only">Search</label>
    <input-autocomplete params="id: 'homeSearch', name: 's', icon: 'ion-ios-search',
        placeholder: 'Search services, e.g. Dog Walker, Tutor',
        value: value, results: results, isBusy: isBusy">
        <template name="isBusy">
            <div class="Result">
                <div class="Result-info">
                    <span class="Result-name">Searching...</span>
                </div>
                <span class="text-secondary"><app-loading-spinner params="mod: 'big'"></app-loading-spinner></span>
            </div>
        </template>
        <template name="results">
            <div class="SearchResultsPreview" data-bind="visible: jobTitles().length">
                <h2 class="SearchResultsPreview-h">Services</h2>
                <ul data-bind="foreach: jobTitles">
                    <li is="input-autocomplete-result" class="Result clearfix" data-bind="attr: { id: 'homeSearch-autocomplete-service-' + pluralName() }">
                        <a data-bind="attr: { href: $parent.getJobTitleUrl(jobTitleID()) }">
                            <div class="Result-info">
                                <span class="Result-name" data-bind="text: pluralName"></span>
                                <span class="Result-count" data-bind="visible: serviceProfessionalsCount">(<span data-bind="text: serviceProfessionalsCount"></span> near you) </span>
                                <span class="Result-description" data-bind="text: searchDescription"></span>
                            </div>
                            <div class="btn btn-secondary btn-md btn-inline">Go</div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="SearchResultsPreview" data-bind="visible: serviceProfessionals().length">
                <h2 class="SearchResultsPreview-h">Professionals</h2>
                <ul data-bind="foreach: serviceProfessionals">
                    <li is="input-autocomplete-result" class="Result clearfix" data-bind="attr: { id: 'homeSearch-autocomplete-proffesional-' + $index() }">
                        <a data-bind="attr: { href: $parent.getServiceProfessionalUrl(userID()) }">
                            <div class="Result-info">
                                <span class="Result-name" data-bind="text: firstName"></span>
                                <span class="Result-name" data-bind="text: lastName"></span>
                                <span class="Result-name" data-bind="visible: businessName">(<span data-bind="text: businessName"></span>)</span>
                                <span class="Result-description" data-bind="text: allJobTitles"></span>
                            </div>
                            <div class="btn btn-secondary btn-md btn-inline">Go</div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="SearchResultsPreview" data-bind="visible: categories().length">
                <h2 class="SearchResultsPreview-h">Categories</h2>
                <ul data-bind="foreach: categories">
                    <li is="input-autocomplete-result" class="Result clearfix" data-bind="attr: { id: 'homeSearch-autocomplete-category-' + categoryName() }">
                        <a data-bind="attr: { href: $parent.getSearchCategoryUrl(categoryID()) }">
                            <div class="Result-info">
                                <span class="Result-name" data-bind="text: categoryName"></span>
                                <span class="Result-description" data-bind="text: searchDescription"></span>
                            </div>
                            <div class="btn btn-secondary btn-md btn-inline">Go</div>
                        </a>
                    </li>
                </ul>
            </div>
        </template>
    </input-autocomplete>
</div>
