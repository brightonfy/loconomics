<div class="form-group">
    <label class="sr-only" data-bind="attr: { id: id }">Job title</label>
    <input-autocomplete params="id: id, name: 'jobTitle', icon: 'ion-ios-search',
        placeholder: 'Search for your profession',
        value: value, suggestions: searchResults, isBusy: isLoading,
        onSelect: onSelect,
        extraData: { suggestionButtonText: suggestionButtonText }">
        <template name="isBusy">
            <div class="Result">
                <div class="Result-info">
                    <span class="Result-name">Searching...</span>
                </div>
                <span class="text-secondary"><app-loading-spinner params="mod: 'big'"></app-loading-spinner></span>
            </div>
        </template>
        <template name="suggestions">
            <div class="SearchResultsPreview">
                <h3 class="SearchResultsPreview-h">Sounds like you?</h3>
                <div data-bind="if: suggestions().jobTitles().length">
                    <ul data-bind="foreach: suggestions().jobTitles">
                        <li class="Result" data-bind="attr: {
                                id: $parent.id() + '-suggestion-' + $index(),
                                'data-input-autocomplete-suggestion': pluralName
                            }">
                            <div class="Result-info">
                                <span class="Result-name" data-bind="text: singularName"></span>
                                <span class="Result-description" data-bind="text: description"></span>
                            </div>
                            <div aria-hidden="true" class="btn btn-secondary btn-md btn-inline"
                                data-bind="visible: $parent.extraData.suggestionButtonText, text: $parent.extraData.suggestionButtonText"></div>
                        </li>
                    </ul>
                    <ul>
                        <li class="Result" data-bind="attr: {
                                id: id() + '-suggestion-new',
                                'data-input-autocomplete-suggestion': value
                            }">
                            <div class="Result-info">
                                <span class="Result-name">No?</span>
                                <span class="Result-description">Fear not, if you provide a local service, we'll create a job title for you.</span>
                            </div>
                            <div aria-hidden="true" class="btn btn-secondary btn-md btn-inline"
                                data-bind="visible: extraData.suggestionButtonText, text: extraData.suggestionButtonText"></div>
                        </li>
                    </ul>
                </div>
                <div data-bind="ifnot: suggestions().jobTitles().length">
                    <ul>
                        <li class="Result" data-bind="attr: {
                                id: id() + '-suggestion-new',
                                'data-input-autocomplete-suggestion': value
                            }">
                            <div class="Result-info">
                                <span class="Result-name">You're our first!</span>
                                <span class="Result-description">Fear not, if you provide a local service, we'll create a job title for you.</span>
                            </div>
                            <div aria-hidden="true" class="btn btn-secondary btn-md btn-inline"
                                data-bind="visible: extraData.suggestionButtonText, text: extraData.suggestionButtonText"></div>
                        </li>
                    </ul>
                </div>
            </div>
        </template>
    </input-autocomplete>
</div>
