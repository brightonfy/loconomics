!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=document.documentElement.getAttribute("data-base-url"),d=document.documentElement.getAttribute("data-culture"),e=window.location,f=e.protocol+"//"+e.host;c=c||"/";var g={SiteUrl:f,AppPath:c,AppUrl:f+c,LangId:d,LangPath:c+d+"/",LangUrl:f+c+d};g.LangUrl=f+g.LangPath,g.JsonPath=g.LangPath+"JSON/",g.JsonUrl=f+g.JsonPath,b.exports=g},{}],2:[function(a,b){var c=a("jquery"),d=a("./LcUrl"),e=a("./smoothBoxBlock"),f=a("LC/ajaxCallbacks"),g=function(a){this.positionId=a,this.events=c.Callbacks(),this.on=function(){return this.events.add.apply(this.events,Array.prototype.slice.call(arguments,0)),this},this.off=function(){return this.events.remove.apply(this.events,Array.prototype.slice.call(arguments,0)),this}};g.prototype={declinedMessageClass:"info",declinedPopupClass:"position-state-change",stateChangedEvent:"state-changed",stateChangedDeclinedEvent:"state-changed-declined",removeFormSelector:".delete-message-confirm",removeFormContainer:".DashboardSection-page",removeMessageClass:"warning",removePopupClass:"position-state-change",removedEvent:"removed",removeFailedEvent:"remove-failed"},g.prototype.changeState=function(a){var b="on"==a?"$Reactivate":"$Deactivate",g=c("#main"),h=this,i={form:g,box:g};return c.ajax({url:d.LangPath+"dashboard/position/"+b+"/?PositionID="+this.positionId,context:i,error:f.error,success:function(b,d,j){g.one("ajaxSuccessPost",function(b,d){if(d&&d.Code>100)if(101==d.Code)h.events.fire(a);else{var f=c("<div/>").addClass(h.declinedMessageClass).append(d.Result.Message);e.open(f,g,h.declinedPopupClass,{closable:!0,center:!1,autofocus:!1})}}),f.doJSONAction(b,d,j,i)}}),this},g.prototype.remove=function(){var a=c(this.removeFormContainer),b=a.find(this.removeFormSelector).first(),d=b.clone(),f=this;d.one("ajaxSuccessPost",".ajax-box",function(b,d){function g(){switch(d.Code){case 101:f.events.fire(f.removedEvent,[d.Result]);break;case 103:f.events.fire(f.removeFailedEvent,[d.Result])}}if(d&&d.Code)if(d.Result&&d.Result.Message){var h=c("<div/>").addClass(f.removeMessageClass).append(d.Result.Message),i=e.open(h,a,f.removePopupClass,{closable:!0,center:!1,autofocus:!1});i.on("xhide",function(){g()})}else g()});e.open(d,a,null,{closable:!0})},b.exports=g},{"./LcUrl":1,"./smoothBoxBlock":7}],3:[function(a,b){function c(a,b){a=d(a||document),a.find(b||"[autofocus]").focus()}var d=a("jquery");"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],4:[function(a,b){!function(){function c(a){function b(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.fadeOut(b);break;case"height":c.slideUp(b);break;default:c.hide(b)}c.trigger("xhide",[b])}function c(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.css("display","none").fadeIn(b);break;case"height":c.css("display","none").slideDown(b);break;default:c.css("display","none").show(b)}c.trigger("xshow",[b])}function d(a,e,g){e!==!0&&e!==!1&&(f.isPlainObject(e)&&(g=e),f(a).each(function(){d(this,!f(this).is(":visible"),g)})),e?c(a,g):b(a,g)}function e(a){a.fn.xtoggle=function(a,b){return d(this,a,b),this},a.fn.xshow=function(a){return c(this,a),this},a.fn.xhide=function(a){return b(this,a),this}}var f=a;return{toggleElement:d,showElement:c,hideElement:b,plugIn:e}}if("function"==typeof define&&define.amd)define(["jquery"],c);else if("undefined"!=typeof b&&b.exports){var d=a("jquery");b.exports=c(d)}else"undefined"!=typeof window.jQuery&&c(window.jQuery).plugIn(window.jQuery)}()},{}],5:[function(a,b){function c(a){return a.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/])/g,"\\$1")}"undefined"!=typeof b&&b.exports&&(b.exports={escapeJQuerySelectorValue:c})},{}],6:[function(a,b){function c(a,b){b=$.extend({marginTop:30,duration:500},b),$("html,body").stop(!0,!0).animate({scrollTop:$(a).offset().top-b.marginTop},b.duration,null)}"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],7:[function(a,b){function c(a,b,d,i){i=e.extend(!0,{closable:!1,center:!1,closeOptions:{duration:600,effect:"fade"},autofocus:!0,autofocusOptions:{marginTop:60},width:"auto"},i),a=e(a);var j=!1;b==document||b==window?(b=e("body"),j=!0):b=e(b);var k=!b.is("body,tr,thead,tbody,tfoot,table,ul,ol,dl"),l=b.data("smooth-box-block-id");l||(l=(a.attr("id")||"")+(b.attr("id")||"")+"-smoothBoxBlock"),"-smoothBoxBlock"==l&&(l="id-"+guidGenerator()+"-smoothBoxBlock"),b.data("smooth-box-block-id",l);var m=e("#"+f(l));if(0===a.length){m.xhide(i.closeOptions);var n=b.data("sbb-previous-css-position");return b.css("position",n||""),void b.data("sbb-previous-css-position",null)}var o;if(0===m.length?(o=e('<div class="smooth-box-block-element"/>'),m=e('<div class="smooth-box-block-overlay"></div>'),m.addClass(d),j&&m.addClass("full-block"),m.append(o),m.attr("id",l),k?b.append(m):e("body").append(m)):o=m.children(".smooth-box-block-element"),a.show(),m.show().css("opacity",0),o.children().remove(),i.closable&&o.append(e('<a class="close-popup close-action" href="#close-popup">X</a>')),m.data("modal-box-options",i),o.data("_close-action-added")||o.on("click",".close-action",function(a){a.preventDefault(),c(null,b,null,m.data("modal-box-options"))}).data("_close-action-added",!0),o.append(a),o.width(i.width),m.css("position","absolute"),k?(m.css("z-index",b.css("z-index")+10),b.css("position")&&"static"!=b.css("position")||(b.data("sbb-previous-css-position",b.css("position")),b.css("position","relative")),m.css("top",0),m.css("left",0)):(m.css("z-index",Math.floor(Number.MAX_VALUE)),m.css(b.offset())),m.width(b.outerWidth()),m.height(b.outerHeight()),i.center){o.css("position","absolute");var p,q;j?(q=screen.height/2,p=screen.width/2):(q=m.outerHeight(!0)/2,p=m.outerWidth(!0)/2),(i.center===!0||"vertical"===i.center)&&o.css("top",q-o.outerHeight(!0)/2),(i.center===!0||"horizontal"===i.center)&&o.css("left",p-o.outerWidth(!0)/2)}return g(m),m.animate({opacity:1},300),i.autofocus&&h(a,i.autofocusOptions),m}function d(a){e(a||document).find(".smooth-box-block-overlay").hide()}var e=a("jquery"),f=a("./jqueryUtils").escapeJQuerySelectorValue,g=a("./autoFocus"),h=a("./moveFocusTo");a("./jquery.xtsh").plugIn(e),"undefined"!=typeof b&&b.exports&&(b.exports={open:c,close:function(a,b,d){c(null,a,b,d)},closeAll:d})},{"./autoFocus":3,"./jquery.xtsh":4,"./jqueryUtils":5,"./moveFocusTo":6}],8:[function(a,b){b.exports=function(a,b){"undefined"==typeof b&&"number"==typeof this.length&&(b=this);var c=b.indexOf(a);return c>-1&&c<b.length-1?b[c+1]:b[0]}},{}],9:[function(a){function b(a){var b=f(a);b.data("instant-saving")&&b.on("change",":input",function(){h.doInstantSaving(b,[this])})}function c(){var c=a("./dashboard/changeProfilePhoto");c.on(".DashboardAboutYou");var d=a("./dashboard/educationCrudl");d.on(".DashboardAboutYou"),a("./dashboard/verificationsActions").on(".DashboardVerifications"),a("./dashboard/verificationsCrudl").on(".DashboardAboutYou"),b(".DashboardPublicBio"),b(".DashboardPersonalWebsite")}function d(c){if(!(c&&c.target&&/fieldset/i.test(c.target.nodeName))){a("./dashboard/monthlySchedule").on();{a("./dashboard/weeklySchedule").on()}a("./dashboard/calendarSync").on(),a("./dashboard/appointmentsCrudl").on(".DashboardAvailability"),b(".DashboardWeeklySchedule"),b(".DashboardMonthlySchedule"),b(".DashboardCalendarSync")}}function e(){a("./dashboard/pricingCrudl").on(),a("./dashboard/serviceAttributesValidation").setup(f(".DashboardYourWork form")),b(".DashboardServices"),b(".DashboardCancellationPolicy"),b(".DashboardSchedulingOptions"),a("./dashboard/locationsCrudl").on(".DashboardYourWork"),a("./dashboard/licensesCrudl").on(".DashboardYourWork"),a("./dashboard/managePhotosUI").on(".DashboardPhotos"),f(".DashboardYourWork").on("ajaxSuccessPost","form",function(){var a=f(".DashboardReviews [name=clientsemails]");a.val()&&a.val("").attr("placeholder",a.data("success-message")).placeholder()});var c=a("./dashboard/addPosition");c.init(".DashboardAddPosition"),f("body").on("ajaxFormReturnedHtml",".DashboardAddPosition",function(){c.init()})}var f=a("jquery"),g=a("../LC/LcUrl"),h=a("LC/ajaxForms");f(function(){var b=a("../LC/toggle"),h=a("../LC/ProviderPosition");f(document).on("click",'[href = "#togglePositionState"]',function(){var a=f(this),c=a.text(),d=b(c,["on","off"]),e=a.closest("[data-position-id]").data("position-id"),g=new h(e);return g.on(g.stateChangedEvent,function(b){a.text(b)}).changeState(d),!1}).on("click",".delete-position a",function(){var a=f(this).closest("[data-position-id]").data("position-id"),b=new h(a);return b.on(b.removedEvent,function(){window.location=g.LangPath+"dashboard/your-work/"}).remove(),!1});var i=a("./dashboard/generateBookNowButton");i.on(".DashboardPromote");var j=a("./dashboard/privacySettings");j.on(".DashboardPrivacy");var k=a("./dashboard/paymentAccount");k.on(".DashboardPayments"),f("html").on("ajaxFormReturnedHtml",".DashboardAboutYou form.ajax",c),c(),f("html").on("ajaxFormReturnedHtml",".DashboardYourWork form.ajax",e),e(),d(),f(".DashboardAvailability").on("ajaxFormReturnedHtml",d)})},{"../LC/LcUrl":1,"../LC/ProviderPosition":2,"../LC/toggle":8,"./dashboard/addPosition":10,"./dashboard/appointmentsCrudl":11,"./dashboard/calendarSync":13,"./dashboard/changeProfilePhoto":14,"./dashboard/educationCrudl":15,"./dashboard/generateBookNowButton":16,"./dashboard/licensesCrudl":17,"./dashboard/locationsCrudl":18,"./dashboard/managePhotosUI":19,"./dashboard/monthlySchedule":20,"./dashboard/paymentAccount":21,"./dashboard/pricingCrudl":22,"./dashboard/privacySettings":23,"./dashboard/serviceAttributesValidation":24,"./dashboard/verificationsActions":25,"./dashboard/verificationsCrudl":26,"./dashboard/weeklySchedule":27}],10:[function(a,b,c){var d=a("jquery"),e={list:".DashboardAddPosition-positionsList",selectPosition:".DashboardAddPosition-selectPosition",desc:".DashboardAddPosition-selectPosition-description"};c.init=function(a){a=a||".DashboardAddPosition";var b=d(a);b.find(e.list+" li.is-template [name=position]").val("");var c=null,f=null,g=b.find(".DashboardAddPosition-selectPosition-search").autocomplete({source:LcUrl.JsonPath+"GetPositions/Autocomplete/",autoFocus:!1,minLength:0,select:function(a,g){return c=c||b.find(e.list+" > ul"),f=f||c.children(".is-template:eq(0)"),g&&g.item&&g.item.value?(0===c.children().filter(function(){return d(this).data("position-id")==g.item.value}).length&&c.append(f.clone().removeClass("is-template").data("position-id",g.item.value).children(".name").text(g.item.positionSingular).end().children("[name=position]").val(g.item.value).end()),b.find(e.desc+" > textarea").val(g.item.description),d(this).val(g.item.positionSingular),!1):void 0},focus:function(a,b){return!b||!b.item||!b.item.positionSingular,d(this).val(b.item.positionSingular),!1}});b.find(e.selectPosition+" .add-action").click(function(){return g.autocomplete("search",""),!1}),b.find(e.list+" > ul").on("click","li > a",function(){var a=d(this);return"#remove-position"==a.attr("href")&&a.parent().remove(),!1})}},{}],11:[function(a,b,c){function d(a){var b=a.find("[name=repeat]").change(function(){var b=a.find(".repeat-options");this.checked?b.slideDown("fast"):b.slideUp("fast")}),c=a.find("[name=allday]").change(function(){var b=a.find("[name=starttime],[name=endtime]").prop("disabled",this.checked);this.checked?b.hide("fast"):b.show("fast")}),d=a.find("[name=repeat-frequency]").change(function(){var b=e(this).children(":selected"),c=b.data("unit");a.find(".repeat-frequency-unit").text(c);var d=a.find(".repeat-every");c?d.show("fast"):d.hide("fast"),a.find(".frequency-extra-"+b.val()).slideDown("fast"),a.find(".frequency-extra:not(.frequency-extra-"+b.val()+")").slideUp("fast")});a.find("[name=repeat-ocurrences]").change(function(){a.find("[name=repeat-ends][value=ocurrences]").prop("checked",!0)}),a.find("[name=repeat-end-date]").change(function(){a.find("[name=repeat-ends][value=date]").prop("checked",!0)}),a.find("[name=startdate]").on("change",function(){a.find("[name=enddate]").val(this.value);var b=a.find(".weekly-extra .week-days input");if(b.are(":checked",{until:1})){var c=e(this).datepicker("getDate");c&&(b.prop("checked",!1),b.filter("[value="+c.getDay()+"]").prop("checked",!0))}}),b.change(),c.change(),d.change(),applyDatePicker(),a.find(":input").placeholder()}var e=a("jquery"),f=LC.initCrudl;c.on=function(a){var b=e(a),c=".DashboardAppointments",g=b.find(c).closest(".DashboardSection-page-section"),h=g.siblings().add(g.find(".DashboardSection-page-section-introduction")).add(g.closest(".DashboardAvailability").siblings()),i=f(c);i.elements.on(i.settings.events["edit-starts"],function(){h.xhide({effect:"height",duration:"slow"})}).on(i.settings.events["edit-ends"],function(){h.xshow({effect:"height",duration:"slow"})}).on(i.settings.events["editor-ready"],function(a,b){setTimeout(function(){d(b)},100)})}},{}],12:[function(a,b,c){var d=a("jquery");c.setupForm=function(a){var b=null;a.on("click",".buy-action",function(c){c.preventDefault();var e=a.find(".DashboardBackgroundCheck-requestForm"),f=d(this).data("background-check-id");b=d(this).closest(".DashboardBackgroundCheck-item");var g=a.find(".popup.buy-step-1");e.find("[name=BackgroundCheckID]").val(f),e.find(".main-action").val(d(this).text()),smoothBoxBlock.open(g,a,"background-check")}),a.on("ajaxSuccessPost",".DashboardBackgroundCheck-requestForm",function(c,d){if(110===d.Code){var e=a.find(".popup.buy-step-2"),f=smoothBoxBlock.open(e,a,"background-check");b.remove(),a.trigger("reloadList"),0===a.find(".DashboardBackgroundCheck-item").length&&(f.find(".close-action").addClass("crudl-cancel"),a.closest(".crudl").find(".BackgroundCheckActionBox").remove())}})}},{}],13:[function(a,b,c){var d=a("jquery");c.on=function(a){a=a||".DashboardCalendarSync";var b=d(a),c=".DashboardCalendarSync-privateUrlField",e=".DashboardCalendarSync-reset-action";b.find(c).on("focus click",function(){this.select()}),b.on("click",e,function(){function a(){g.val(g.data("error-message"))}var e=d(this),f=e.attr("href"),g=b.find(c);return g.val(""),d.getJSON(f,function(b){b&&0===b.Code?(g.val(b.Result).change(),g[0].select()):a()}).fail(a),!1})}},{}],14:[function(a,b,c){var d=a("jquery");a("jquery.blockUI");var e=a("LC/smoothBoxBlock");c.on=function(a){var b,c=d(a);c.on("click",'[href="#change-profile-photo"]',function(){return b=popup(LcUrl.LangPath+"dashboard/AboutYou/ChangePhoto/",{width:700,height:670},null,null,{autoFocus:!1}),!1}),window.reloadUserPhoto=function(){c.find(".DashboardPublicBio-photo .avatar").each(function(){var a=this.getAttribute("src");a=a+"?v="+(new Date).getTime(),this.setAttribute("src",a)})},window.closePopupUserPhoto=function(){b&&b.find(".close-popup").trigger("click")},window.deleteUserPhoto=function(){d.unblockUI(),e.open(d("<div/>").html(LC.blockPresets.loading.message),d("body"),"",{center:"horizontal"}),d.ajax({url:LcUrl.LangUrl+"dashboard/AboutYou/ChangePhoto/?delete=true",method:"GET",cache:!1,dataType:"json",success:function(a){var b=0===a.Code?a.Result:a.Result.ErrorMessage;e.open(d("<div/>").text(b),d("body"),"",{closable:!0,center:"horizontal"}),reloadUserPhoto()},error:ajaxErrorPopupHandler})}}},{}],15:[function(a,b,c){var d=a("jquery");a("jquery-ui");var e=LC.initCrudl;c.on=function(a){var b=d(a),c=".DashboardEducation",f=b.find(c).closest(".DashboardSection-page-section"),g=f.siblings().add(f.find(".DashboardSection-page-section-introduction")).add(f.closest(".DashboardAboutYou").siblings()),h=e(c);h.elements.on(h.settings.events["edit-starts"],function(){g.xhide({effect:"height",duration:"slow"})}).on(h.settings.events["edit-ends"],function(){g.xshow({effect:"height",duration:"slow"})}).on(h.settings.events["editor-ready"],function(a,b){b.find("[name=institution]").autocomplete({source:LcUrl.JsonPath+"GetInstitutions/Autocomplete/",autoFocus:!1,delay:200,minLength:5})})}},{}],16:[function(a,b,c){var d=a("jquery");c.on=function(a){function b(){var a=c.find("[name=size]:checked").val(),b=c.find("[name=positionid]:checked").val(),e=c.find("[name=button-source-code]"),f=c.find(".DashboardBookNowButton-buttonSizes-preview"),g=c.find(".DashboardBookNowButton-buttonCode-buttonTemplate").text(),h=c.find(".DashboardBookNowButton-buttonCode-linkTemplate").text(),i="link-only"==a?h:g,j=d(".DashboardBookNowButton-buttonCode");f.html(i),f.find("a").attr("href",j.data("base-url")+(b?b+"/":"")),f.find("img").attr("src",j.data("base-src")+a),e.val(f.html().trim())}var c=d(a);c.length>0&&b(),c.on("change","input",b)}},{}],17:[function(a,b,c){var d=a("jquery"),e=LC.initCrudl;c.on=function(a){var b=d(a),c=".DashboardLicenses",f=b.find(c).closest(".DashboardSection-page-section"),g=f.siblings().add(f.find(".DashboardSection-page-section-introduction")).add(f.closest(".DashboardYourWork").siblings()),h=e(c);h.elements.on(h.settings.events["edit-starts"],function(){g.xhide({effect:"height",duration:"slow"})}).on(h.settings.events["edit-ends"],function(){g.xshow({effect:"height",duration:"slow"})})}},{}],18:[function(a,b,c){function d(a){a.find("select.copy-location").change(function(){var a=f(this);a.closest(".crudl-form").reload(function(){return f(this).data("ajax-fieldset-action").replace(/LocationID=\d+/gi,"LocationID="+a.val())+"&"+a.data("extra-query")})})}function e(a){var b;return g(function(){function c(a,c,e){return t.setPosition(a),b.panTo(a),d(e),c&&b.setZoom(l),t}function d(a){var b=t.getPosition();k=!0,n.byUser=b,a===!0&&e(b)}function e(a){q.val(a.lat()),r.val(a.lng())}function g(){k=!0;var a=new google.maps.LatLng(q.val(),r.val());t.setPosition(a),b.panTo(a)}function h(a,b){var d=a||!k;if(d&&navigator.geolocation){var e=null;navigator.geolocation.getCurrentPosition(function(a){if(!e&&d){var f=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);e=c(f,!0,b),n.byGeolocation=f}},function(a){console&&console.log&&console.log("Something went wrong: ",a)},{timeout:5e3,maximumAge:9e5,enableHighAccuracy:!0});var f=navigator.geolocation.watchPosition(function(a){if(d){var g=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);e=c(g,!0,b),n.byGeolocation=g}else navigator.geolocation.clearWatch(f)});setTimeout(function(){navigator.geolocation.clearWatch(f)},3e5)}}function i(b,d){function e(){function a(a){i.elements[a]&&i.elements[a].value&&b.push(i.elements[a].value)}var b=[];a("addressline1"),a("addressline2"),a("city"),a("postalcode");var c=i.elements.state;return c&&c.value&&b.push(c.options[c.selectedIndex].label),b.push("USA"),b.length>=2?b.join(", "):null}function f(a){g.geocode({address:a},function(b,e){if(e==google.maps.GeocoderStatus.OK){var f=b[0].geometry.location;n.byGeocode=f,c(f,!0,d)}else console&&console.error&&console.error("Geocode was not successful for the following reason: "+e+' on address "'+a+'"')})}var g=new google.maps.Geocoder,h=a.find(".crudl-form"),i=h.get(0);if(h.on("change","[name=addressline1], [name=addressline2], [name=city], [name=postalcode], [name=state]",function(){var a=e();a&&f(a,!1)}),b){var j=e();j&&f(j,!0)}}var j,k=!1,l=17,m=9,n={byUser:null,byGeolocation:null,byGeocode:null,original:null},o=a.find(".location-map"),p=o.find(".map-selector > .google-map").get(0),q=o.find("[name=latitude]"),r=o.find("[name=longitude]");!function(){var a=q.val(),b=r.val();a&&b?(j=new google.maps.LatLng(q.val(),r.val()),k=0!==j.lat()&&0!==j.lng()):j=new google.maps.LatLng(37.75334439226298,-122.4254606035156)}(),n.original=n.confirmed=j;var s={zoom:k?l:m,center:j,mapTypeId:google.maps.MapTypeId.ROADMAP};b=new google.maps.Map(p,s);var t=new google.maps.Marker({position:j,map:b,draggable:!1,animation:google.maps.Animation.DROP});google.maps.event.addListener(t,"dragend",function(){e(t.getPosition())}),google.maps.event.addListener(b,"click",function(a){t.getDraggable()&&(c(a.latLng),k=!0,n.byUser=a.latLng,e(a.latLng))}),q.change(g),r.change(g),i(!1,!0),o.on("click",".options a",function(){var a=f(this).attr("href").substr(1);switch(a){case"geolocation":n.byGeolocation?c(n.byGeolocation,!0,!0):h(!0,!0);break;case"geocode":n.byGeocode?c(n.byGeocode,!0,!0):i(!0,!0);break;case"confirm":d(!0),t.setDraggable(!1),n.confirmed=t.getPosition(),o.find(".gps-lat, .gps-lng, .advice, .find-address-geocode").hide("fast");var b=o.find(".edit-action");b.text(b.data("edit-label"));break;case"editcoordinates":var e=o.find(".gps-lat, .gps-lng, .advice, .find-address-geocode"),g=!e.is(":visible");t.setDraggable(g);var j=f(this);g?(j.data("edit-label",j.text()),j.text(j.data("cancel-label"))):(j.text(j.data("edit-label")),c(n.confirmed,!0,!0)),e.toggle("fast")}return!1})}),b}var f=a("jquery"),g=a("LC/googleMapReady"),h=LC.initCrudl;c.on=function(a){var b,c=f(a),i=".DashboardLocations",j=c.find(i).closest(".DashboardSection-page-section"),k=j.siblings().add(j.find(".DashboardSection-page-section-introduction")).add(j.closest(".DashboardYourWork").siblings()),l=h(i);l.elements.on(l.settings.events["edit-starts"],function(){k.xhide({effect:"height",duration:"slow"})}).on(l.settings.events["edit-ends"],function(){k.xshow({effect:"height",duration:"slow"})}).on(l.settings.events["editor-ready"],function(a,c){c.find("fieldset.has-confirm > .confirm input").change(),d(c),b||(b=e(c))}).on(l.settings.events["editor-showed"],function(){b&&g.refreshMap(b)})}},{}],19:[function(a,b,c){function d(a){var b=m(q);return m.ajax({url:b.data("ajax-fieldset-action"),data:a,type:"post",success:function(a){if(a&&a.Code<0)throw new Error(a.ErrorMessage);var b=m(q);return o.registerSave(b.closest("form").get(0),b.find(":input").toArray()),a},error:function(a,b,c){alert("Sorry, there was an error. "+(c||""))}})}function e(a){var b=a.find("[name=PhotoID]").val(),c=a.find("[name=photo-caption]").val(),e="True"===a.find("[name=is-primary-photo]:checked").val();if(b&&b>0){d({PhotoID:b,"photo-caption":c,"is-primary-photo":e,result:"json"});var f=a.find(".positionphotos-gallery #UserPhoto-"+b),g=f.find("img");f&&f.length&&(g.attr("alt",c),e?f.addClass("is-primary-photo"):f.removeClass("is-primary-photo"))}}function f(a,b){var c=m(".positionphotos-edit",a),d=".positionphotos-edit, .DashboardPhotos-editPhoto > legend, .positionphotos-gallery > legend, .positionphotos-gallery > ol, .positionphotos-tools";if(b=b&&b.length?b:m(".positionphotos-gallery > ol > li.selected",a),b.addClass("selected").siblings().removeClass("selected"),b&&b.length>0){a.find(d).show(),s.uploader.setAsSecondary();var e=b.find("img"),f=b.attr("id").match(/^UserPhoto-(\d+)$/)[1],g=e.attr("src"),h=c.find("img");c.find("[name=PhotoID]").val(f),c.find("[name=photoURI]").val(g),h.attr("src",g+"?v="+(new Date).getTime()).attr("style",""),c.find("[name=photo-caption]").val(e.attr("alt"));var i=b.hasClass("is-primary-photo")?"True":"False";c.find("[name=is-primary-photo]").prop("checked",!1),c.find("[name=is-primary-photo][value="+i+"]").prop("checked",!0),h.imagesLoaded(function(){s.setupCropPhoto()})}else 0===a.find(".positionphotos-gallery > ol > li").length?(a.find(d).hide(),s.uploader.setAsMain()):(a.find(d).show(),s.uploader.setAsSecondary(),n.open(a.find(".no-primary-photo"),c,"",{autofocus:!1})),c.find("img").attr("src",r),c.find("[name=PhotoID]").val(""),c.find("[name=photo-caption]").val(""),c.find("[name=is-primary-photo]").prop("checked",!1)}function g(a){a.on("change",".positionphotos-edit input",function(){var a=m(this).closest(".positionphotos-edit");e(a)}).on("click",".positionphotos-tools-upload > a",function(){var a=m(this).closest("form").find("input[name=positionID]").val();return popup(LcUrl.LangPath+"dashboard/YourWork/UploadPhoto/?PositionID="+a,{width:700,height:670},null,null,{autoFocus:!1}),!1}).on("click",".positionphotos-gallery li a",function(){var a=m(this),b=a.closest(q);e(b),n.closeAll(b);var c=a.closest("li");return f(b,c),!1}).on("click",".DashboardPhotos-editPhoto-delete",function(){var a=m(this).closest(".positionphotos-edit"),b=a.closest(q),c=a.find("[name=PhotoID]").val(),e=b.find("#UserPhoto-"+c);return d({PhotoID:c,"delete-photo":"True",result:"json"}).then(function(){e.remove(),f(b)}),!1})}function h(a){r=a.find("img").attr("src");var b=(new i({container:a}),m(".DashboardPhotos-editPhoto",a)),c=parseInt(a.closest("form").find("[name=positionID]").val())||0;s=new l({container:b,positionId:c,sizeLimit:b.data("size-limit"),gallery:new j({container:a}),uploader:new k({container:m(".FileUploader",a),positionId:c})}),f(a)}function i(a){a=a||{},this.$container=m(a.container||"body"),this.sortable=m(".positionphotos-gallery > ol",this.$container).sortable({placeholder:"ui-state-highlight",update:this.onUpdate})}function j(a){a=a||{},this.$container=m(a.container||".DashboardPhotos"),this.$gallery=m(".positionphotos-gallery",this.$container),this.$galleryList=m("ol",this.$gallery),this.tplImg='<li id="UserPhoto-@@0"><a href="#"><img alt="Uploaded photo" src="@@1"/></a><a class="edit" href="#">Edit</a></li>',this.appendPhoto=function(a,b){var c=m(this.tplImg.replace(/@@0/g,b).replace(/@@1/g,a));return 0===this.$galleryList.children().length&&c.addClass("is-primary-photo"),this.$galleryList.append(c).animate({scrollTop:this.$galleryList[0].scrollHeight-this.$galleryList.height()-2},1400).find("li:last-child").effect("highlight",{},1600),c},this.reloadPhoto=function(a,b){this.$galleryList.find("#UserPhoto-"+b).find("img").attr("src",a+"?v="+(new Date).getTime())}}function k(a){a=a||{},this.$container=m(a.container||"html"),this.gallery=a.gallery||new j(this.$container),this.positionId=a.positionId||0,this.componentClass=a.componentClass||"FileUploader",this.secondaryClass=a.secondaryClass||"FileUploader--asSecondary";var b=this;this.qquploader=new t.FileUploader({element:m(".FileUploader-uploader",this.$container).get(0),action:LcUrl.LangPath+"dashboard/YourWork/UploadPhoto/?PositionID="+this.positionId,allowedExtensions:["jpg","jpeg","png","gif"],onComplete:function(a,c,d){if(d.success){var e=b.gallery.appendPhoto(d.fileURI,d.photoID);n.closeAll(b.gallery.$container),f(b.gallery.$container,e)}},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},sizeLimit:this.sizeLimit||"undefined",template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop a file here to upload</span></div><div class="qq-upload-button">Upload a photo</div><ul class="qq-upload-list"></ul></div>'})}function l(a){a=a||{};var b=m("html");this.positionId=a.positionId||b.data("position-id"),this.sizeLimit=a.sizeLimit||b.data("size-limit"),this.$container=m(a.container||"html"),this.gallery=a.gallery||new j({container:this.$container}),this.uploader=a.uploader||new k({containe:this.$container,positionId:this.positionId}),this.initCropForm()}var m=a("jquery");a("jquery-ui");var n=a("LC/smoothBoxBlock"),o=a("LC/changesNotification"),p=a("LC/ajaxCallbacks");a("imagesLoaded");var q=".DashboardPhotos",r=null,s=null;c.on=function(a){var b=m(a);b.length&&(g(b),h(b),b.on("ajaxFormReturnedHtml","form.ajax",function(){h(b)}))},i.prototype.onUpdate=function(){var a=m(this).sortable("toArray").toString();m(this).closest(q).find("[name=gallery-order]").val(a),d({"gallery-order":a,action:"order",result:"json"})},k.prototype.setAsMain=function(){this.$container.removeClass(this.secondaryClass)},k.prototype.setAsSecondary=function(){this.$container.addClass(this.secondaryClass)};var t=a("fileuploader");a("jcrop"),l.prototype.showCoords=function(a){m("[name=crop-x1]",this.$container).val(a.x),m("[name=crop-y1]",this.$container).val(a.y),m("[name=crop-x2]",this.$container).val(a.x2),m("[name=crop-y2]",this.$container).val(a.y2),m("[name=crop-w]",this.$container).val(a.w),m("[name=crop-h]",this.$container).val(a.h)},l.prototype.clearCoords=function(){m("input[name=^crop-]",this.$container).val("")},l.prototype.initCropForm=function(){var a=this;this.$container.on("click",".DashboardPhotos-editPhoto-save",function(b){b.preventDefault(),m.ajax({url:LcUrl.LangPath+"$dashboard/YourWork/UploadPhoto/",type:"POST",data:a.$container.find(":input").serialize()+"&crop-photo=True",dataType:"json",success:function(b,c,d){if(b.Code)p.doJSONAction(b,c,d);else if(b.updated)a.gallery.reloadPhoto(b.fileURI,b.photoID),f(a.gallery.$container);else{var e=a.gallery.appendPhoto(b.fileURI,b.photoID);n.closeAll(a.gallery.$container),f(a.gallery.$container,e)}m("#crop-photo").slideUp("fast")},error:function(a,b){alert("Sorry, there was an error setting-up your photo. "+(b||""))}})})},l.prototype.setupCropPhoto=function(){this.jcropApi&&this.jcropApi.destroy();var a=this,b=m(".positionphotos-edit-photo > img",this.$container);return b.Jcrop({onChange:this.showCoords.bind(this),onSelect:this.showCoords.bind(this),onRelease:this.clearCoords.bind(this),aspectRatio:b.data("target-width")/b.data("target-height")},function(){a.jcropApi=this,a.jcropApi.setSelect([0,0,b.width(),b.height()])}),b}},{imagesLoaded:28}],20:[function(a,b,c){var d=a("jquery"),e=a("LC/availabilityCalendar"),f=a("LC/batchEventHandler");c.on=function(){var a=e.Monthly.enableAll();d.each(a,function(){var a=this,b=a.$el.closest("form.ajax,fieldset.ajax"),c=b.find("[name=monthly]");0===c.length&&(c=d('<input type="hidden" name="monthly" />').insertAfter(a.$el)),b.on("presubmit",function(){c.val(JSON.stringify(a.getUpdatedData()))}),a.events.on("dataChanged",f(function(){c.val(JSON.stringify(a.getUpdatedData())).change()}))})}},{}],21:[function(a,b,c){function d(a){a.find('[name="birthdate"]').formatter({pattern:"{{99}}/{{99}}/{{9999}}",persistent:!1}),a.find('[name="ssn"]').formatter({pattern:"{{999}}-{{99}}-{{9999}}",persistent:!1})}function e(a){var b=a.find(".DashboardPaymentAccount-bank"),c=a.find(".DashboardPaymentAccount-changeMethod").add(b);a.find(".Actions--changePaymentMethod").on("click",function(){c.toggleClass("is-venmoAccount is-bankAccount"),b.find("input").val(b.hasClass("is-venmoAccount")?function(a,b){return f(this).data("prev-val",b),""}:function(){return f(this).data("prev-val")})})}var f=a("jquery");a("jquery.formatter"),c.on=function(a){var b=f(a),c=function(){d(b),e(b)};f(c),b.on("ajaxFormReturnedHtml","form.ajax",c)}},{}],22:[function(a,b,c){function d(a){var b=a.find("[name=price-rate],[name=price-rate-unit]"),c=a.find("[name=no-price-rate]");c.on("change",function(){b.prop("disabled",c.prop("checked"))}),c.change()}function e(a){function b(a,b){a.find("[name=provider-average-time]").val(b),b=parseInt(b),a.find(".preview .time").text(h.fromMinutes(b).toSmartString())}a.find(".provider-average-time-slider").each(function(){var a=g(this).closest("[data-slider-value]"),c=a.data("slider-value"),d=a.data("slider-step")||1;if(c){var e={range:"min",value:c,min:c-3*d,max:c+3*d,step:d,slide:function(c,d){b(a,d.value)}},f=g(this).slider(e);a.find(".provider-average-time").on("click","label",function(){var c=g(this);c.hasClass("below-average-label")?f.slider("value",e.min):c.hasClass("average-label")?f.slider("value",e.value):c.hasClass("above-average-label")&&f.slider("value",e.max),b(a,f.slider("value"))});var h=a.find("[name=provider-average-time]");h.hide();var i=h.val()||c;b(a,i),f.slider("value",i)}})}function f(a){a.find(".show-more-attributes").on("click",function(){var a=g(this),b=a.siblings(".services-not-checked");return b.is(":visible")?(a.text(a.data("show-text")),b.stop().hide("fast")):(a.text(a.data("hide-text")),b.stop().show("fast")),!1})}var g=a("jquery"),h=a("LC/TimeSpan");a("LC/TimeSpanExtra").plugIn(h);var i=a("LC/tooltips").updateTooltips,j=LC.initCrudl;
c.on=function(a){a=a||".DashboardPricing";var b=g(a).closest(".DashboardSection-page-section"),c=b.siblings().add(b.find(".DashboardSection-page-section-introduction")).add(b.closest(".DashboardYourWork").siblings()),h=j(a);h.elements.on(h.settings.events["edit-starts"],function(){c.xhide({effect:"height",duration:"slow"})}).on(h.settings.events["edit-ends"],function(){c.xshow({effect:"height",duration:"slow"})}).on(h.settings.events["editor-ready"],function(a,b){d(b),e(b),i(),f(b)})}},{}],23:[function(a,b){var c=a("jquery"),d={accountLinksSelector:".DashboardPrivacySettings-myAccount a",ressourcesSelector:".DashboardPrivacy-accountRessources"};b.exports=d,d.on=function(a){var b=c(a);b.on("click",".cancel-action",function(){smoothBoxBlock.close(b)}),b.on("ajaxSuccessPostMessageClosed",".ajax-box",function(){window.location.reload()}),b.on("click",d.accountLinksSelector,function(){var a,e=b.find(d.ressourcesSelector);switch(c(this).attr("href")){case"#delete-my-account":a=smoothBoxBlock.open(e.children(".delete-message-confirm").clone(),b);break;case"#deactivate-my-account":a=smoothBoxBlock.open(e.children(".deactivate-message-confirm").clone(),b);break;case"#reactivate-my-account":a=smoothBoxBlock.open(e.children(".reactivate-message-confirm").clone(),b);break;default:return!0}return a&&c("html,body").stop(!0,!0).animate({scrollTop:a.offset().top},500,null),!1})}},{}],24:[function(a,b,c){var d=a("jquery"),e=a("LC/getText"),f=a("LC/validationHelper"),g=a("LC/jqueryUtils").escapeJQuerySelectorValue;c.setup=function(a,b){var c=d(a);b=d.extend({requiredSelector:".DashboardServices-attributes-category.is-required",selectOneClass:"js-validationSelectOne",groupErrorClass:"is-error",valErrorTextKey:"required-attribute-category-error"},b),c.each(function(){var a=d(this);return a.is("form,fieldset")?void a.data("customValidation",{validate:function(){var c=!0,h=!0,i=f.findValidationSummary(a);return a.find(b.requiredSelector).each(function(){var a=d(this),f=a.children("legend").text();if(h=a.is("."+b.selectOneClass)?!!a.find("option:selected").val():a.find("input:checked").length>0)a.removeClass(b.groupErrorClass),i.find('li[title="'+g(f)+'"]').remove();else{c=!1,a.addClass(b.groupErrorClass);var j=e(b.valErrorTextKey,f);0===i.find('li[title="'+g(f)+'"]').length&&i.children("ul").append(d("<li/>").text(j).attr("title",f))}}),c?f.setValidationSummaryAsValid(a):f.setValidationSummaryAsError(a),c}}):void(console&&console.error&&console.error("The element to apply validation must be a form or fieldset"))})}},{}],25:[function(a,b,c){var d=a("jquery");a("jquery.blockUI");var e=c.actions={};e.facebook=function(){var b=a("LC/FacebookConnect"),c=new b({resultType:"json",urlSection:"Verify",appId:d("html").data("fb-appid"),permissions:"email,user_about_me",loadingText:"Verifing"});d(document).on(c.connectedEvent,function(){d(document).on("popup-closed",function(){location.reload()})}),c.connect()},e.email=function(){popup(LcUrl.LangPath+"Account/$ResendConfirmationEmail/now/",popup.size("small"))};var f=c.links={"#connect-with-facebook":e.facebook,"#confirm-email":e.email};c.on=function(a){var b=d(a);b.on("click","a",function(){var a=this.getAttribute("href")||"",b=f[a]||null;return"function"==typeof b?(b(),!1):void 0})}},{}],26:[function(a,b,c){var d=a("jquery"),e=LC.initCrudl;c.on=function(b){var c=d(b),f=".DashboardVerifications",g=c.find(f).closest(".DashboardSection-page-section"),h=g.siblings().add(g.find(".DashboardSection-page-section-introduction")).add(g.closest(".DashboardAboutYou").siblings()),i=e(f);i.elements.on(i.settings.events["edit-starts"],function(){h.xhide({effect:"height",duration:"slow"})}).on(i.settings.events["edit-ends"],function(){h.xshow({effect:"height",duration:"slow"})}).on(i.settings.events["editor-ready"],function(b,c){a("./backgroundCheckRequest").setupForm(c.find(".DashboardBackgroundCheck"))})}},{"./backgroundCheckRequest":12}],27:[function(a,b,c){var d=a("jquery"),e=a("LC/availabilityCalendar"),f=a("LC/batchEventHandler");c.on=function(){var a=e.WorkHours.enableAll();d.each(a,function(){var a=this,b=a.$el.closest("form.ajax, fieldset.ajax"),c=b.find("[name=workhours]");0===c.length&&(c=d('<input type="hidden" name="workhours" />').insertAfter(a.$el)),b.on("presubmit",function(){c.val(JSON.stringify(a.data))}),a.events.on("dataChanged",f(function(){c.val(JSON.stringify(a.data)).change()})),b.find("[name=alltime]").on("change",function(){var b=d(this),c=a.classes.disabled;c&&a.$el.toggleClass(c,b.prop("checked"))})})}},{}],28:[function(a,b,c){!function(d,e){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(a,b){return e(d,a,b)}):"object"==typeof c?b.exports=e(d,a("wolfy87-eventemitter"),a("eventie")):d.imagesLoaded=e(d,d.EventEmitter,d.eventie)}(window,function(a,b,c){"use strict";function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l="undefined"!=typeof k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;g>f;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g})},{eventie:29,"wolfy87-eventemitter":30}],29:[function(a,b,c){!function(a){"use strict";function d(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var e=document.documentElement,f=function(){};e.addEventListener?f=function(a,b,c){a.addEventListener(b,c,!1)}:e.attachEvent&&(f=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=d(a);c.handleEvent.call(c,b)}:function(){var b=d(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var g=function(){};e.removeEventListener?g=function(a,b,c){a.removeEventListener(b,c,!1)}:e.detachEvent&&(g=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var h={bind:f,unbind:g};"function"==typeof define&&define.amd?define(h):"object"==typeof c?b.exports=h:a.eventie=h}(this)},{}],30:[function(a,b){(function(){"use strict";function a(){}function c(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function d(a){return function(){return this[a].apply(this,arguments)}}var e=a.prototype,f=this,g=f.EventEmitter;e.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},e.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},e.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},e.addListener=function(a,b){var d,e=this.getListenersAsObject(a),f="object"==typeof b;for(d in e)e.hasOwnProperty(d)&&-1===c(e[d],b)&&e[d].push(f?b:{listener:b,once:!1});return this},e.on=d("addListener"),e.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},e.once=d("addOnceListener"),e.defineEvent=function(a){return this.getListeners(a),this},e.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},e.removeListener=function(a,b){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=c(f[e],b),-1!==d&&f[e].splice(d,1));return this},e.off=d("removeListener"),e.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},e.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},e.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},e.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},e.removeAllListeners=d("removeEvent"),e.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},e.trigger=d("emitEvent"),e.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},e.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},e._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=g,a},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof b&&b.exports?b.exports=a:this.EventEmitter=a}).call(this)},{}]},{},[9]);