!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=document.documentElement.getAttribute("data-base-url"),d=document.documentElement.getAttribute("data-culture"),e=window.location,f=e.protocol+"//"+e.host;c=c||"/";var g={SiteUrl:f,AppPath:c,AppUrl:f+c,LangId:d,LangPath:c+d+"/",LangUrl:f+c+d};g.LangUrl=f+g.LangPath,g.JsonPath=g.LangPath+"JSON/",g.JsonUrl=f+g.JsonPath,b.exports=g},{}],2:[function(a,b){var c=a("jquery"),d=a("./LcUrl"),e=a("./smoothBoxBlock"),f=a("./ajaxCallbacks"),g=function(a){this.positionId=a,this.events=c.Callbacks(),this.on=function(){return this.events.add.apply(this.events,Array.prototype.slice.call(arguments,0)),this},this.off=function(){return this.events.remove.apply(this.events,Array.prototype.slice.call(arguments,0)),this}};g.prototype={declinedMessageClass:"info",declinedPopupClass:"position-state-change",stateChangedEvent:"state-changed",stateChangedDeclinedEvent:"state-changed-declined"},g.prototype.changeState=function(a){var b="on"==a?"$Reactivate":"$Deactivate",g=c(document),h=this,i={form:g,box:g};return c.ajax({url:d.LangPath+"NewDashboard/Position/"+b+"/?PositionID="+this.positionId,context:i,error:f.error,success:function(b,d,j){g.one("ajaxSuccessPost",function(b,d){if(d&&d.Code>100)if(101==d.Code)h.events.fire(a);else{var f=c("<div/>").addClass(h.declinedMessageClass).append(d.Result.Message);e.open(f,pos,h.declinedPopupClass,{closable:!0,center:!1,autofocus:!1})}}),f.doJSONAction(b,d,j,i)}}),this},b.exports=g},{"./LcUrl":1,"./ajaxCallbacks":3,"./smoothBoxBlock":13}],3:[function(a,b){function c(a,b,c){if("abort"!=b&&4==a.readyState){var d=b,e=null;size=j.size("large"),size.height-=34,"error"==d?(e=m(a.responseText,size),e.attr("id","blockUIIframe"),d=null):d=d+"; "+c,i.blockUI(errorBlock(d,null,j.style(size))),e&&i(".blockMsg").append(e),i(".blockUI .close-popup").click(function(){return i.unblockUI(),!1})}}function d(){clearTimeout(this.loadingtimer||this.loadingTimer),this.autoUnblockLoading&&(p.close(this.box),this.box.unblock())}function e(a,b,c){var d=this;if(d.element&&(d.form=d.element),d.form||(d.form=i(this)),d.box||(d.box=d.form),d.autoUnblockLoading=!0,!h(a,b,c,d)){var e=new jQuery;if(i.trim(a))try{e="function"==typeof i.parseHTML?i(i.parseHTML(a)):i(a)}catch(f){return console&&console.error&&console.error(f),void 0}d.boxIsContainer=d.boxIsContainer;var g=d.options&&"replace-content"===d.options.mode||"replace-content"===d.box.data("reload-mode"),j=e.filter(".ajax-box");0===j.length&&(j=e),d.boxIsContainer||j.is(".ajax-box")||(j=e.find(".ajax-box:eq(0)")),j&&0!==j.length||(j=e),g?d.box.empty().append(j.is(".ajax-box")?j.contents():j):d.boxIsContainer?d.box.html(j):(d.box.replaceWith(j),d.box=j),d.box.is("form.ajax")||d.box.is("fieldset.ajax")?d.form=d.box:(d.form=d.box.find("form.ajax:eq(0)"),0===d.form.length&&(d.form=d.box.find("fieldset.ajax:eq(0)"))),d.changedElements&&l.registerChange(d.form.get(0),d.changedElements);var k=j.find(".validation-summary-errors");k.length&&o(k),d.form.trigger("ajaxFormReturnedHtml",[j,d.form,c])}}function f(a,b,c){a.box.unblock(),b=b||a.form.data("success-post-message")||"Done!",a.box.block(infoBlock(b,{css:j.style(j.size("small"))})).on("click",".close-popup",function(){return a.box.unblock(),a.box.trigger("ajaxSuccessPostMessageClosed",[c]),!1}),a.autoUnblockLoading=!1}function g(a,b){a.box.unblock();var c=i('<div class="ok-go-box"/>');c.append(i('<span class="success-message"/>').append(b.SuccessMessage)),b.AdditionalMessage&&c.append(i('<div class="additional-message"/>').append(b.AdditionalMessage));var d=i('<a class="action ok-action close-action" href="#ok"/>').append(b.OkLabel),e="";b.GoURL&&b.GoLabel&&(e=i('<a class="action go-action"/>').attr("href",b.GoURL).append(b.GoLabel),e.click(function(){d.click(),a.box.trigger("ajaxSuccessPostMessageClosed",[b])})),c.append(i('<div class="actions clearfix"/>').append(d).append(e)),p.open(c,a.box,null,{closeOptions:{complete:function(){a.box.trigger("ajaxSuccessPostMessageClosed",[b])}}}),a.autoUnblockLoading=!1}function h(a,b,c,d){if("object"==typeof a){if(d.box&&k.setValidationSummaryAsValid(d.box),0===a.Code)f(d,a.Result,a),d.form.trigger("ajaxSuccessPost",[a,b,c]);else if(1==a.Code)n(a.Result);else if(2==a.Code)d.box.unblock(),j(a.Result,{width:410,height:320});else if(3==a.Code)d.autoUnblockLoading=!1,d.box.reload(a.Result);else if(4==a.Code)d.box.on("ajaxSuccessPostMessageClosed",function(){n(a.Result.RedirectURL)}),f(d,a.Result.SuccessMessage,a);else if(5==a.Code){var e=d.form.find(".main-action"),h=e.data("default-text");h||e.data("default-text",e.text());var m=a.Result||e.data("success-post-text")||"Done!";e.text(m),i(d.form).one("lcChangesNotificationChangeRegistered",function(){e.text(e.data("default-text"))}),d.form.trigger("ajaxSuccessPost",[a,b,c])}else if(6==a.Code)g(d,a.Result),d.form.trigger("ajaxSuccessPost",[a,b,c]);else if(7==a.Code)f(d,a.Result.Message,a),d.form.trigger("ajaxSuccessPost",[a,b,c]);else if(a.Code>100)d.form.trigger("ajaxSuccessPost",[a,b,c,d]);else{d.changedElements&&l.registerChange(d.form.get(0),d.changedElements),d.box.unblock();var o="Error: "+a.Code+": "+JSON.stringify(a.Result?a.Result.ErrorMessage?a.Result.ErrorMessage:a.Result:"");p.open(i("<div/>").append(o),d.box,null,{closable:!0}),d.autoUnblockLoading=!1}return!0}return!1}var i=a("jquery");a("jquery.blockUI");var j=a("./popup"),k=a("./validationHelper"),l=a("./changesNotification"),m=a("./createIframe"),n=a("./redirectTo"),o=a("./moveFocusTo"),p=a("./smoothBoxBlock");"undefined"!=typeof b&&b.exports&&(b.exports={error:c,success:e,complete:d,doJSONAction:h})},{"./changesNotification":5,"./createIframe":6,"./moveFocusTo":10,"./popup":11,"./redirectTo":12,"./smoothBoxBlock":13,"./validationHelper":15}],4:[function(a,b){function c(a,b){a=d(a||document),a.find(b||"[autofocus]").focus()}var d=a("jquery");"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],5:[function(a,b){var c=a("jquery"),d=a("./getXPath"),e=a("./jqueryUtils").escapeJQuerySelectorValue,f={changesList:{},defaults:{target:null,genericChangeSupport:!0,genericSubmitSupport:!1,changedFormClass:"has-changes",changedElementClass:"changed",notifyClass:"notify-changes"},init:function(a){c(window).on("beforeunload",function(){return f.notify()}),a=c.extend(this.defaults,a),a.target||(a.target=document),a.genericChangeSupport&&c(a.target).on("change","form:not(.changes-notification-disabled) :input[name]",function(){f.registerChange(c(this).closest("form").get(0),this)}),a.genericSubmitSupport&&c(a.target).on("submit","form:not(.changes-notification-disabled)",function(){f.registerSave(this)})},notify:function(){c("html").addClass(this.defaults.notifyClass);for(var a in this.changesList)return this.quitMessage||(this.quitMessage=c("#lcres-quit-without-save").text())||""},registerChange:function(a,b){if(b){var e=d(a),f=this.changesList[e]=this.changesList[e]||[];if(c.isArray(b))for(var g=0;g<b.length;g++)this.registerChange(a,b[g]);else{var h=b;if("string"!=typeof b){if(h=b.name,"undefined"!=typeof b.defaultValue&&"undefined"==typeof b.checked&&"undefined"==typeof b.selected&&b.value==b.defaultValue)return this.registerSave(a,[h]),void 0;c(b).addClass(this.defaults.changedElementClass)}h in f||f.push(h),c(a).addClass(this.defaults.changedFormClass).trigger("lcChangesNotificationChangeRegistered",[a,h,b])}}},registerSave:function(a,b){var f=d(a);if(this.changesList[f]){var g=c.extend([],this.changesList[f]),h=!0;b&&(this.changesList[f]=c.grep(this.changesList[f],function(a){return-1==c.inArray(a,b)}),h=0===this.changesList[f].length),h&&(c(a).removeClass(this.defaults.changedFormClass),delete this.changesList[f],b=g),c(a).trigger("lcChangesNotificationSaveRegistered",[a,b,h]);var i=this;return b&&c.each(b,function(){c('[name="'+e(this)+'"]').removeClass(i.defaults.changedElementClass)}),g}}};"undefined"!=typeof b&&b.exports&&(b.exports=f)},{"./getXPath":7,"./jqueryUtils":9}],6:[function(a,b){function c(a,b){a.contentWindow.contents=b,a.src='javascript:window["contents"]'}var d=a("jquery");b.exports=function(a,b){var e=d('<iframe width="'+b.width+'" height="'+b.height+'" style="border:none;"></iframe>'),f=e.get(0),g=!1;return f.onload=function(){g||(g=!0,c(f,a))},e}},{}],7:[function(a,b){function c(a){if(a&&a.id)return'//*[@id="'+a.id+'"]';for(var b="";a&&1==a.nodeType;a=a.parentNode){var c=d(a.parentNode).children(a.tagName).index(a)+1;c=c>1?"["+c+"]":"",b="/"+a.tagName.toLowerCase()+c+b}return b}var d=a("jquery");"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],8:[function(a,b){!function(){function c(a){function b(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.fadeOut(b);break;case"height":c.slideUp(b);break;default:c.hide(b)}c.trigger("xhide",[b])}function c(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.css("display","none").fadeIn(b);break;case"height":c.css("display","none").slideDown(b);break;default:c.css("display","none").show(b)}c.trigger("xshow",[b])}function d(a,e,g){e!==!0&&e!==!1&&(f.isPlainObject(e)&&(g=e),f(a).each(function(){d(this,!f(this).is(":visible"),g)})),e?c(a,g):b(a,g)}function e(a){a.fn.xtoggle=function(a,b){return d(this,a,b),this},a.fn.xshow=function(a){return c(this,a),this},a.fn.xhide=function(a){return b(this,a),this}}var f=a;return{toggleElement:d,showElement:c,hideElement:b,plugIn:e}}if("function"==typeof define&&define.amd)define(["jquery"],c);else if("undefined"!=typeof b&&b.exports){var d=a("jquery");b.exports=c(d)}else"undefined"!=typeof window.jQuery&&c(window.jQuery).plugIn(window.jQuery)}()},{}],9:[function(a,b){function c(a){return a.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/])/g,"\\$1")}"undefined"!=typeof b&&b.exports&&(b.exports={escapeJQuerySelectorValue:c})},{}],10:[function(a,b){function c(a,b){b=$.extend({marginTop:30},b),$("html,body").stop(!0,!0).animate({scrollTop:$(a).offset().top-b.marginTop},500,null)}"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],11:[function(a,b){function c(a){var b="large"==a?.8:"medium"==a?.5:"small"==a?.2:a||.5;return{width:Math.round(h(window).width()*b),height:Math.round(h(window).height()*b),sizeFactor:b}}function d(a){return{cursor:"default",width:a.width+"px",left:Math.round((h(window).width()-a.width)/2)-25+"px",height:a.height+"px",top:Math.round((h(window).height()-a.height)/2)-32+"px",padding:"34px 25px 30px",overflow:"auto",border:"none","-moz-background-clip":"padding","-webkit-background-clip":"padding-box","background-clip":"padding-box"}}function e(a,b,f,g,k){"object"==typeof a&&(k=a),k=h.extend(!0,{url:"string"==typeof a?a:"",size:b||{width:0,height:0},complete:f,loadingText:g,closable:{onLoad:!1,afterLoad:!0,onError:!0},autoSize:!1,containerClass:"",autoFocus:!0},k),k.loadingText=k.loadingText||"","undefined"==typeof k.size.width&&(k.size=c(k.size)),h.blockUI({message:(k.closable.onLoad?'<a class="close-popup" href="#close-popup">X</a>':"")+'<img src="'+LcUrl.AppPath+'img/theme/loading.gif"/>'+k.loadingText,centerY:!1,css:d(k.size),overlayCSS:{cursor:"default"},focusInput:!0}),h.ajax({url:k.url,context:{options:k,container:h(".blockMsg")},success:function(a){var b=this.container.addClass(k.containerClass);b.html(k.closable.afterLoad?'<a class="close-popup" href="#close-popup">X</a>':"");var c=b.append('<div class="content"/>').children(".content");if("object"==typeof a)a.Code&&2==a.Code?(h.unblockUI(),e(a.Result,{width:410,height:320})):c.append(a.Result);else if(/((^\$)|(\/\$))/.test(k.url)){if(c.append(a),k.autoFocus&&j(c),k.autoSize){var d=c[0].style.width;c.css("width","auto");var f=c[0].style.height;c.css("height","auto");var g=c[0].scrollWidth,l=c[0].scrollHeight,m=b.width(),n=b.height(),o=b.outerWidth(!0)-m,p=b.outerHeight(!0)-n,q=h(window).width()-o,r=h(window).height()-p,s={width:g>q?q:g,height:l>r?r:l};b.animate(s,300),c.css("width",d),c.css("height",f)}}else{var t=i(a,this.options.size);t.attr("id","blockUIIframe"),c.remove(),h(".blockMsg").append(t),k.autoFocus&&j(t)}},error:function(a,b,c){h("div.blockMsg").html((k.closable.onError?'<a class="close-popup" href="#close-popup">X</a>':"")+'<div class="content">Page not found</div>'),console&&console.info&&console.info("Popup-ajax error: "+c)},complete:k.complete});var l=h(".blockUI");return l.on("click",".close-popup",function(){return h.unblockUI(),l.trigger("popup-closed"),!1}),l.closePopup=function(){h.unblockUI()},l.getBlockElement=function(){return l.filter(".blockMsg")},l.getContentElement=function(){return l.find(".content")},l.getOverlayElement=function(){return l.filter(".blockOverlay")},l}function f(a,b){b=h(b||"body");var c=h("<div/>").text(a);smoothBoxBlock.open(c,b,"message-popup full-block",{closable:!0,center:!0,autofocus:!1})}function g(a){a=a||".popup-action",h(document).on("click",a,function(){var a=h(h(this).attr("href")).clone();return 1==a.length&&smoothBoxBlock.open(a,document,null,{closable:!0,center:!0}),!1})}var h=a("jquery"),i=a("./createIframe"),j=a("./moveFocusTo");a("jquery.blockUI"),a("./smoothBoxBlock"),e.size=c,e.style=d,e.connectAction=g,e.message=f,"undefined"!=typeof b&&b.exports&&(b.exports=e)},{"./createIframe":6,"./moveFocusTo":10,"./smoothBoxBlock":13}],12:[function(a,b){var c=a("jquery");a("jquery.blockUI"),b.exports=function(a){c.blockUI({message:""});var b=!1;c(window).on("beforeunload",function(){b=!0}),window.location=a,setTimeout(function(){b||window.location.reload()},50)}},{}],13:[function(a,b){function c(a,b,d,i){i=e.extend(!0,{closable:!1,center:!1,closeOptions:{duration:600,effect:"fade"},autofocus:!0,autofocusOptions:{marginTop:60},width:"auto"},i),a=e(a);var j=!1;b==document||b==window?(b=e("body"),j=!0):b=e(b);var k=!b.is("body,tr,thead,tbody,tfoot,table,ul,ol,dl"),l=b.data("smooth-box-block-id");l||(l=(a.attr("id")||"")+(b.attr("id")||"")+"-smoothBoxBlock"),"-smoothBoxBlock"==l&&(l="id-"+guidGenerator()+"-smoothBoxBlock"),b.data("smooth-box-block-id",l);var m=e("#"+f(l));if(0===a.length)return m.xhide(i.closeOptions),void 0;var n;if(0===m.length?(n=e('<div class="smooth-box-block-element"/>'),m=e('<div class="smooth-box-block-overlay"></div>'),m.addClass(d),j&&m.addClass("full-block"),m.append(n),m.attr("id",l),k?b.append(m):e("body").append(m)):n=m.children(".smooth-box-block-element"),a.show(),m.show().css("opacity",0),n.children().remove(),i.closable&&n.append(e('<a class="close-popup close-action" href="#close-popup">X</a>')),m.data("modal-box-options",i),n.data("_close-action-added")||n.on("click",".close-action",function(){return c(null,b,null,m.data("modal-box-options")),!1}).data("_close-action-added",!0),n.append(a),n.width(i.width),m.css("position","absolute"),k?(m.css("z-index",b.css("z-index")+10),b.css("position")&&"static"!=b.css("position")||b.css("position","relative"),m.css("top",0),m.css("left",0)):(m.css("z-index",Math.floor(Number.MAX_VALUE)),m.css(b.offset())),m.width(b.outerWidth()),m.height(b.outerHeight()),i.center){n.css("position","absolute");var o,p;j?(p=screen.height/2,o=screen.width/2):(p=m.outerHeight(!0)/2,o=m.outerWidth(!0)/2),n.css("top",p-n.outerHeight(!0)/2),n.css("left",o-n.outerWidth(!0)/2)}return g(m),m.animate({opacity:1},300),i.autofocus&&h(a,i.autofocusOptions),m}function d(a){e(a||document).find(".smooth-box-block-overlay").hide()}var e=a("jquery"),f=a("./jqueryUtils").escapeJQuerySelectorValue,g=a("./autoFocus"),h=a("./moveFocusTo");a("./jquery.xtsh").plugIn(e),"undefined"!=typeof b&&b.exports&&(b.exports={open:c,close:function(a,b,d){c(null,a,b,d)},closeAll:d})},{"./autoFocus":4,"./jquery.xtsh":8,"./jqueryUtils":9,"./moveFocusTo":10}],14:[function(a,b){b.exports=function(a,b){"undefined"==typeof b&&"number"==typeof this.length&&(b=this);var c=b.indexOf(a);return c>-1&&c<b.length-1?b[c+1]:b[0]}},{}],15:[function(a,b){function c(a){a=a||document,window.jqueryValidateUnobtrusiveLoaded||(window.jqueryValidateUnobtrusiveLoaded=!1),jqueryValidateUnobtrusiveLoaded?h&&h.validator&&h.validator.unobtrusive&&(h(a).removeData("validator"),h(a).removeData("unobtrusiveValidation"),h.validator.unobtrusive.parse(a)):(jqueryValidateUnobtrusiveLoaded=!0,i.load([{load:LcUrl.AppPath+"Scripts/jquery/jquery.validate.min.js"},{load:LcUrl.AppPath+"Scripts/jquery/jquery.validate.unobtrusive.min.js"}]))}function d(a){a=a||document,h(".validation-summary-errors",a).removeClass("validation-summary-errors").addClass("validation-summary-valid").find(">ul>li").remove(),h(".field-validation-error",a).removeClass("field-validation-error").addClass("field-validation-valid").text(""),LC.setupValidation()}function e(a){var b=g(a);b.addClass("validation-summary-errors").removeClass("validation-summary-valid")}function f(a){var b=a.find(".validation-summary-errors").offset();b?h("html,body").stop(!0,!0).animate({scrollTop:b.top},500):console&&console.error&&console.error("goToSummaryErrors: no summary to focus")}function g(a){return a=a||document,h("[data-valmsg-summary=true]")}var h=a("jquery"),i=a("modernizr");b.exports={setup:c,setValidationSummaryAsValid:d,setValidationSummaryAsError:e,goToSummaryErrors:f,findValidationSummary:g}},{}],16:[function(a,b,c){var d=a("jquery"),e=LC.initCrudl;c.on=function(a){var b=d(a),c=".DashboardAppointments",f=b.find(c).closest(".DashboardSection-page-section"),g=f.siblings().add(f.find(".DashboardSection-page-section-introduction")),h=e(c);h.elements.on(h.settings.events["edit-starts"],function(){g.xhide({effect:"height",duraction:"slow"})}).on(h.settings.events["edit-ends"],function(){g.xshow({effect:"height",duraction:"slow"})})}},{}],17:[function(a,b,c){var d=a("jquery");c.on=function(a){a=a||".DashboardCalendarSync";var b=d(a),c=".DashboardCalendarSync-privateUrlField",e=".DashboardCalendarSync-reset-action";b.find(c).on("focus click",function(){this.select()}),b.on("click",e,function(){function a(){g.val(g.data("error-message"))}var e=d(this),f=e.attr("href"),g=b.find(c);return g.val(""),d.getJSON(f,function(b){b&&0===b.Code?g.val(b.Result)[0].select():a()}).fail(a),!1})}},{}],18:[function(a,b,c){var d=a("jquery");a("jquery.blockUI"),c.on=function(a){var b=d(a);b.on("click",'[href="#change-profile-photo"]',function(){return popup(LcUrl.LangPath+"NewDashboard/AboutYou/ChangePhoto/",{width:240,height:240}),!1}),window.reloadUserPhoto=function(){b.find(".DashboardPublicBio-photo .avatar").each(function(){var a=this.getAttribute("src");a=a+"?v="+(new Date).getTime(),this.setAttribute("src",a)})},window.deleteUserPhoto=function(){d.blockUI(LC.blockPresets.loading),d.ajax({url:LcUrl.LangUrl+"NewDashboard/AboutYou/ChangePhoto/?delete=true",method:"GET",cache:!1,dataType:"json",success:function(a){0===a.Code?d.blockUI(LC.blockPresets.info(a.Result)):d.blockUI(LC.blockPresets.error(a.Result.ErrorMessage)),d(".blockUI .close-popup").click(function(){d.unblockUI()}),reloadUserPhoto()},error:ajaxErrorPopupHandler})}}},{}],19:[function(a,b,c){var d=a("jquery");a("jquery-ui");var e=LC.initCrudl;c.on=function(a){var b=d(a),c=".DashboardEducation",f=b.find(c).closest(".DashboardSection-page-section").siblings(),g=e(c);g.elements.on(g.settings.events["edit-starts"],function(){f.xhide({effect:"height",duraction:"slow"})}).on(g.settings.events["edit-ends"],function(){f.xshow({effect:"height",duraction:"slow"})}).on(g.settings.events["editor-ready"],function(a,b){b.find("[name=institution]").autocomplete({source:LcUrl.JsonPath+"GetInstitutions/Autocomplete/",autoFocus:!1,delay:200,minLength:5})})}},{}],20:[function(a,b,c){var d=a("jquery");c.on=function(a){function b(){var a=c.find("[name=size]:checked").val(),b=c.find("[name=positionid]:checked").val(),e=c.find("[name=button-source-code]"),f=c.find(".DashboardBookNowButton-buttonSizes-preview"),g=c.find(".DashboardBookNowButton-buttonCode-buttonTemplate").text(),h=c.find(".DashboardBookNowButton-buttonCode-linkTemplate").text(),i="link-only"==a?h:g,j=d(".DashboardBookNowButton-buttonCode");f.html(i),f.find("a").attr("href",j.data("base-url")+(b?b+"/":"")),f.find("img").attr("src",j.data("base-src")+a),e.val(f.html().trim())}var c=d(a);c.length>0&&b(),c.on("change","input",b)}},{}],21:[function(a,b,c){var d=a("jquery"),e=LC.initCrudl;c.on=function(a){var b=d(a),c=".DashboardLicenses",f=b.find(c).closest(".DashboardSection-page-section"),g=f.siblings().add(f.find(".DashboardSection-page-section-introduction")),h=e(c);h.elements.on(h.settings.events["edit-starts"],function(){g.xhide({effect:"height",duraction:"slow"})}).on(h.settings.events["edit-ends"],function(){g.xshow({effect:"height",duraction:"slow"})})}},{}],22:[function(a,b,c){function d(a){var b;return f(function(){function c(a,c,e){return s.setPosition(a),b.panTo(a),d(e),c&&b.setZoom(k),s}function d(a){var b=s.getPosition();j=!0,m.byUser=b,a===!0&&(p.val(b.lat()),q.val(b.lng()))}function f(){j=!0;var a=new google.maps.LatLng(p.val(),q.val());s.setPosition(a),b.panTo(a)}function g(a,b){var d=a||!j;if(d&&navigator.geolocation){var e=null;navigator.geolocation.getCurrentPosition(function(a){if(!e&&d){var f=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);e=c(f,!0,b),m.byGeolocation=f}},function(a){console&&console.log&&console.log("Something went wrong: ",a)},{timeout:5e3,maximumAge:9e5,enableHighAccuracy:!0});var f=navigator.geolocation.watchPosition(function(a){if(d){var g=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);e=c(g,!0,b),m.byGeolocation=g}else navigator.geolocation.clearWatch(f)});setTimeout(function(){navigator.geolocation.clearWatch(f)},3e5)}}function h(b,d){function e(){function a(a){i.elements[a].value&&b.push(i.elements[a].value)}var b=[];a("addressline1"),a("addressline2"),a("city"),a("postalcode");var c=i.elements.state;return c.value&&b.push(c.options[c.selectedIndex].label),b.push("USA"),b.length>=5?b.join(", "):null}function f(a){g.geocode({address:a},function(b,e){if(e==google.maps.GeocoderStatus.OK){var f=b[0].geometry.location;m.byGeocode=f,c(f,!0,d)}else console&&console.error&&console.error("Geocode was not successful for the following reason: "+e+' on address "'+a+'"')})}var g=new google.maps.Geocoder,h=a.find(".crudl-form"),i=h.get(0);if(h.on("change","[name=addressline1], [name=addressline2], [name=city], [name=postalcode], [name=state]",function(){var a=e();a&&f(a,!1)}),b){var j=e();j&&f(j,!0)}}var i,j=!1,k=17,l=9,m={byUser:null,byGeolocation:null,byGeocode:null,original:null},n=a.find(".location-map"),o=n.find(".map-selector > .google-map").get(0),p=n.find("[name=latitude]"),q=n.find("[name=longitude]");!function(){var a=p.val(),b=q.val();a&&b?(i=new google.maps.LatLng(p.val(),q.val()),j=0!==i.lat()&&0!==i.lng()):i=new google.maps.LatLng(37.75334439226298,-122.4254606035156)}(),m.original=m.confirmed=i;var r={zoom:j?k:l,center:i,mapTypeId:google.maps.MapTypeId.ROADMAP};b=new google.maps.Map(o,r);var s=new google.maps.Marker({position:i,map:b,draggable:!1,animation:google.maps.Animation.DROP});google.maps.event.addListener(s,"dragend",d),google.maps.event.addListener(b,"click",function(a){s.getDraggable()&&(c(a.latLng),j=!0,m.byUser=a.latLng)}),p.change(f),q.change(f),h(!1,!0),n.on("click",".options a",function(){var a=e(this).attr("href").substr(1);switch(a){case"geolocation":m.byGeolocation?c(m.byGeolocation,!0,!0):g(!0,!0);break;case"geocode":m.byGeocode?c(m.byGeocode,!0,!0):h(!0,!0);break;case"confirm":d(!0),s.setDraggable(!1),m.confirmed=s.getPosition(),n.find(".gps-lat, .gps-lng, .advice, .find-address-geocode").hide("fast");var b=n.find(".edit-action");b.text(b.data("edit-label"));break;case"editcoordinates":var f=n.find(".gps-lat, .gps-lng, .advice, .find-address-geocode"),i=!f.is(":visible");s.setDraggable(i);var j=e(this);i?(j.data("edit-label",j.text()),j.text(j.data("cancel-label"))):(j.text(j.data("edit-label")),c(m.confirmed,!0,!0)),f.toggle("fast")}return!1})}),b}var e=a("jquery"),f=a("LC/googleMapReady"),g=LC.initCrudl;c.on=function(a){var b,c=e(a),h=".DashboardLocations",i=c.find(h).closest(".DashboardSection-page-section"),j=i.siblings().add(i.find(".DashboardSection-page-section-introduction")),k=g(h);k.elements.on(k.settings.events["edit-starts"],function(){j.xhide({effect:"height",duraction:"slow"})}).on(k.settings.events["edit-ends"],function(){j.xshow({effect:"height",duraction:"slow"})}).on(k.settings.events["editor-ready"],function(a,c){c.find("fieldset.has-confirm > .confirm input").change(),b=d(c)}).on(k.settings.events["editor-showed"],function(){b&&f.refreshMap(b)})}},{}],23:[function(a,b,c){function d(a){a.on("click",".positionphotos-tools-upload > a",function(){var a=f(this).closest("form").find("input[name=positionID]").val();return popup(LcUrl.LangPath+"NewDashboard/YourWork/UploadPhoto/?PositionID="+a,"small"),!1}).on("click",".positionphotos-gallery li a",function(){var a=f(this),b=a.closest(i),c=f(".positionphotos-edit",b);f(":focus").blur();var d=c.closest("fieldset.ajax"),e=d.find(".changed:input").map(function(){return this.name}).get();e.length>0&&(d.one("ajaxFormReturnedHtml",function(){h.registerSave(d.closest("form").get(0),e)}),d.find(".ajax-fieldset-submit").click()),g.closeAll(b);var j=a.closest("li");if(j.addClass("selected").siblings().removeClass("selected"),null!==j&&j.length>0){var k=j.find("img"),l=j.attr("id").match(/^UserPhoto-(\d+)$/)[1];c.find("[name=PhotoID]").val(l),c.find("img").attr("src",k.attr("src")),c.find("[name=photo-caption]").val(k.attr("alt"));var m=j.hasClass("is-primary-photo")?"True":"False";c.find("[name=is-primary-photo]").prop("checked",!1),c.find("[name=is-primary-photo][value="+m+"]").prop("checked",!0)}return!1}).on("click",".positionphotos-edit-delete a",function(){var a=f(this).closest(".positionphotos-edit");return a.find("[name=delete-photo]").val("True"),a.closest("fieldset.ajax").find(".ajax-fieldset-submit").click(),!1})}function e(a){f(".positionphotos-gallery > ol",a).sortable({placeholder:"ui-state-highlight",update:function(){var a=f(this).sortable("toArray").toString();f(this).closest(i).find("[name=gallery-order]").val(a)}});var b=f(".positionphotos-edit",a),c=f(".positionphotos-gallery > ol > li.selected",a);if(null!==c&&c.length>0){var d=c.find("img"),e=c.attr("id").match(/^UserPhoto-(\d+)$/)[1];b.find("[name=PhotoID]").val(e),b.find("img").attr("src",d.attr("src")),b.find("[name=photo-caption]").val(d.attr("alt"));var h=c.hasClass("is-primary-photo")?"True":"False";b.find("[name=is-primary-photo]").prop("checked",!1),b.find("[name=is-primary-photo][value="+h+"]").prop("checked",!0)}else 0===a.find(".positionphotos-gallery > ol > li").length?g.open(a.find(".no-photos"),b):g.open(a.find(".no-primary-photo"),b),b.find("[name=PhotoID]").val(""),b.find("[name=photo-caption]").val(""),b.find("[name=is-primary-photo]").prop("checked",!1);b.find("[name=delete-photo]").val("False")}var f=a("jquery");a("jquery-ui");var g=a("LC/smoothBoxBlock"),h=a("LC/changesNotification"),i=".DashboardPhotos";c.on=function(a){var b=f(a);d(b),e(b),b.on("ajaxFormReturnedHtml","form.ajax",function(){e(b)})}},{}],24:[function(a,b,c){function d(a){a.find('[name="birthdate"]').formatter({pattern:"{{99}}/{{99}}/{{9999}}",persistent:!1}),a.find('[name="ssn"]').formatter({pattern:"{{999}}-{{99}}-{{9999}}",persistent:!1})}var e=a("jquery");a("jquery.formatter"),c.on=function(a){var b=e(a),c=function(){d(b)};e(c),b.on("ajaxFormReturnedHtml","form.ajax",c)}},{}],25:[function(a,b,c){function d(a){var b=a.find("[name=price-rate],[name=price-rate-unit]"),c=a.find("[name=no-price-rate]");c.on("change",function(){b.prop("disabled",c.prop("checked"))}),c.change()}function e(a){function b(a,b){a.find("[name=provider-average-time]").val(b),b=parseInt(b),a.find(".preview .time").text(h.fromMinutes(b).toSmartString())}a.find(".provider-average-time-slider").each(function(){var a=g(this).closest("[data-slider-value]"),c=a.data("slider-value"),d=a.data("slider-step")||1;if(c){var e={range:"min",value:c,min:c-3*d,max:c+3*d,step:d,slide:function(c,d){b(a,d.value)}},f=g(this).slider(e);a.find(".provider-average-time").on("click","label",function(){var c=g(this);c.hasClass("below-average-label")?f.slider("value",e.min):c.hasClass("average-label")?f.slider("value",e.value):c.hasClass("above-average-label")&&f.slider("value",e.max),b(a,f.slider("value"))});var h=a.find("[name=provider-average-time]");h.hide();var i=h.val()||c;b(a,i),f.slider("value",i)}})}function f(a){a.find(".show-more-attributes").on("click",function(){var a=g(this),b=a.siblings(".services-not-checked");return b.is(":visible")?(a.text(a.data("show-text")),b.stop().hide("fast")):(a.text(a.data("hide-text")),b.stop().show("fast")),!1})}var g=a("jquery"),h=a("LC/TimeSpan");a("LC/TimeSpanExtra").plugIn(h);var i=a("LC/tooltips").updateTooltips,j=LC.initCrudl;c.on=function(a){var b=g(a),c=".DashboardPricing",h=b.find(c).closest(".DashboardSection-page-section"),k=h.siblings().add(h.find(".DashboardSection-page-section-introduction")),l=j(c);l.elements.on(l.settings.events["edit-starts"],function(){k.xhide({effect:"height",duraction:"slow"})}).on(l.settings.events["edit-ends"],function(){k.xshow({effect:"height",duraction:"slow"})}).on(l.settings.events["edit-ready"],function(a,b){d(b),e(b),i(),f(b)})}},{}],26:[function(a,b){var c=a("jquery"),d={accountLinksSelector:".DashboardPrivacySettings-myAccount a",ressourcesSelector:".DashboardPrivacy-accountRessources"};b.exports=d,d.on=function(a){var b=c(a);b.on("click",".cancel-action",function(){smoothBoxBlock.close(b)}),b.on("ajaxSuccessPostMessageClosed",".ajax-box",function(){window.location.reload()}),b.on("click",d.accountLinksSelector,function(){var a,e=b.find(d.ressourcesSelector);switch(c(this).attr("href")){case"#delete-my-account":a=smoothBoxBlock.open(e.children(".delete-message-confirm").clone(),b);break;case"#deactivate-my-account":a=smoothBoxBlock.open(e.children(".deactivate-message-confirm").clone(),b);break;case"#reactivate-my-account":a=smoothBoxBlock.open(e.children(".reactivate-message-confirm").clone(),b);break;default:return!0}return a&&c("html,body").stop(!0,!0).animate({scrollTop:a.offset().top},500,null),!1})}},{}],27:[function(a,b,c){var d=a("jquery"),e=a("LC/getText"),f=a("LC/validationHelper"),g=a("LC/jqueryUtils").escapeJQuerySelectorValue;c.setup=function(a,b){var c=d(a);b=d.extend({requiredSelector:".DashboardServices-attributes-category.is-required",selectOneClass:"js-validationSelectOne",groupErrorClass:"is-error",valErrorTextKey:"required-attribute-category-error"},b),c.each(function(){var a=d(this);return a.is("form")?(a.data("customValidation",{validate:function(){var c=!0,h=!0,i=f.findValidationSummary(a);return a.find(b.requiredSelector).each(function(){var a=d(this),f=a.children("legend").text();if(h=a.is("."+b.selectOneClass)?!!a.find("option:selected").val():a.find("input:checked").length>0)a.removeClass(b.groupErrorClass),i.find('li[title="'+g(f)+'"]').remove();else{c=!1,a.addClass(b.groupErrorClass);var j=e(b.valErrorTextKey,f);0===i.find('li[title="'+g(f)+'"]').length&&i.children("ul").append(d("<li/>").text(j).attr("title",f))}}),c?f.setValidationSummaryAsValid(a):f.setValidationSummaryAsError(a),c}}),void 0):(console&&console.error&&console.error("The element to apply validation must be a form"),void 0)})}},{}],28:[function(a,b,c){var d=a("jquery");a("jquery.blockUI");var e=c.actions={};e.facebook=function(){var b=a("LC/FacebookConnect"),c=new b({resultType:"json",urlSection:"Verify",appId:d("html").data("fb-appid"),permissions:"email,user_about_me",loadingText:"Verifing"});d(document).on(c.connectedEvent,function(){d(document).on("popup-closed",function(){location.reload()})}),c.connect()},e.email=function(){popup(LcUrl.LangPath+"Account/$ResendConfirmationEmail/now/",popup.size("small"))};var f=c.links={"#connect-with-facebook":e.facebook,"#confirm-email":e.email};
c.on=function(a){var b=d(a);b.on("click","a",function(){var a=this.getAttribute("href")||"",b=f[a]||null;return"function"==typeof b?(b(),!1):void 0})}},{}],29:[function(a,b,c){var d=a("jquery"),e=a("LC/availabilityCalendar");c.on=function(){var a=e.WorkHours.enableAll();d.each(a,function(){var a=this,b=a.$el.closest("form.ajax, fieldset.ajax"),c=b.find("[name=workhours]");0===c.length&&(c=d('<input type="hidden" name="workhours" />').appendTo(b)),b.on("presubmit",function(){c.val(JSON.stringify(a.data))}),b.find("[name=alltime]").on("change",function(){var b=d(this),c=a.classes.disabled;c&&a.$el.toggleClass(c,b.prop("checked"))})})}},{}],30:[function(a){var b=a("jquery");b(function(){var c=a("../LC/toggle"),d=a("../LC/ProviderPosition");b(document).on("click",'[href = "#togglePositionState"]',function(){var a=b(this),e=a.text(),f=c(e,["on","off"]),g=a.closest("[data-position-id]").data("position-id"),h=new d(g);return h.on(h.stateChangedEvent,function(b){a.text(b)}).changeState(f),!1});var e=a("./dashboard/generateBookNowButton");e.on(".DashboardPromote");var f=a("./dashboard/privacySettings");f.on(".DashboardPrivacy");var g=a("./dashboard/paymentAccount");g.on(".DashboardPayments");var h=a("./dashboard/changeProfilePhoto");h.on(".DashboardAboutYou");var i=a("./dashboard/educationCrudl");i.on(".DashboardAboutYou"),a("./dashboard/verificationsActions").on(".DashboardVerifications"),a("./dashboard/serviceAttributesValidation").setup(b(".DashboardYourWork form")),a("./dashboard/pricingCrudl").on(".DashboardYourWork"),a("./dashboard/locationsCrudl").on(".DashboardYourWork"),a("./dashboard/licensesCrudl").on(".DashboardYourWork"),a("./dashboard/managePhotosUI").on(".DashboardYourWork"),b(".DashboardYourWork").on("ajaxSuccessPost","form",function(){var a=b(".DashboardReviews [name=clientsemails]");a.val()&&a.val("").attr("placeholder",a.data("success-message")).placeholder()}),a("./dashboard/weeklySchedule").on(),a("./dashboard/calendarSync").on(),a("./dashboard/appointmentsCrudl").on(".DashboardAvailability")})},{"../LC/ProviderPosition":2,"../LC/toggle":14,"./dashboard/appointmentsCrudl":16,"./dashboard/calendarSync":17,"./dashboard/changeProfilePhoto":18,"./dashboard/educationCrudl":19,"./dashboard/generateBookNowButton":20,"./dashboard/licensesCrudl":21,"./dashboard/locationsCrudl":22,"./dashboard/managePhotosUI":23,"./dashboard/paymentAccount":24,"./dashboard/pricingCrudl":25,"./dashboard/privacySettings":26,"./dashboard/serviceAttributesValidation":27,"./dashboard/verificationsActions":28,"./dashboard/weeklySchedule":29}]},{},[30]);