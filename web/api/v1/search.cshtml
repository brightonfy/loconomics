@**
    Search API.
    
    It performs a search of users by job title or service category

    Options:

    GET /
        Returns UserSearchResult[]

    EXAMPLES {
        "Search Service Professionals by Job Title": {
            "url": "/api/v1/en-US/search",
            "get": {
                "jobTitleSingularName": "Massage Therapist",
                "city": "San Francisco"
            }
        },
        "Search Job Titles by Category": {
            "url": "/api/v1/en-US/search/job-titles",
            "get": {
                "category": "Home",
                "city": "San Francisco"
            }
        }
    }
**@
@functions{
    public class RestSearch : RestWebPage
    {
        public override dynamic Get()
        {
            if (UrlData.Count == 0)
            {
                var j = Request["jobTitleSingularName"];
                var city = Request["city"];
                return LcRest.UserSearchResult.SearchByJobTitle(j, city, LcRest.Locale.Current);
            }
            else if (UrlData.Count == 1)
            {
                if (UrlData[0] == "job-titles")
                {
                    var cat = Request["category"];
                    var city = Request["city"];
                    return LcRest.JobTitleSearchResult.SearchByCategory(cat, city, LcRest.Locale.Current);
                }
            }
            return new HttpException(404, "Not found");
        }
    }
}
@{
    // Public access
    new RestSearch().JsonResponse(this);
}