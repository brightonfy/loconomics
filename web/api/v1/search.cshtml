@**
    Search API.
    
    It performs a search of job titles, service professionals, and categories by Search Term within 30 miles of a user's location.

    Options:

    GET /
        Returns SearchResults[]

    EXAMPLES {
          "Search Job Titles, Service Professionals, and Categories by Search Term": {
            "url": "/api/v1/en-US/search",
            "get": {
                "SearchTerm": "cleaner",
                "origLat": "37.788479",
                "origLong": "-122.40297199999998",
                "SearchDistance": "30"
            }
        }
}
**@
@functions{
    public class RestSearchBy : RestWebPage
    {
        public override dynamic Get()
        {
            if (UrlData.Count == 0)
            {

                var s = Request["SearchTerm"];
                var lat = Request["origLat"].AsDecimal();
                var lng = Request["origLong"].AsDecimal();
                var dist = Request["searchDistance"].AsInt();
                return Json(new { 
                JobTitles = LcRest.JobTitleSearchResult.SearchBySearchTerm(s, lat, lng, dist, LcRest.Locale.Current), 
                ServiceProfessionals = LcRest.ServiceProfessionalSearchResult.SearchBySearchTerm(s, lat, lng, dist, LcRest.Locale.Current), 
                Categories = LcRest.ServiceProfessionalSearchResult.SearchBySearchTerm(s, lat, lng, dist, LcRest.Locale.Current) }, JsonRequestBehavior.AllowGet);
            }
              return new HttpException(404, "Not found");
        }
    }
}
@{
    // Public access
    new RestSearch().JsonResponse(this);
}