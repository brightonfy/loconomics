@*
    This page is called to populate a JSON object with the Position Singular values available for a given Language and Country

    INPUT:
        languageID
        countryID
*@

@{
    Response.ContentType = "application/json";
    var db = Database.Open("sqlloco");
    var sql = "SELECT distinct PositionSingular as label FROM positions WHERE PositionSingular LIKE @0 and LanguageID = 1 and CountryID = 1";
    var term = Request["serviceType"] + "%";
    var result = db.Query(sql, term);
    var data = result.Select(p => new{label = p.label});
    Json.Write(data, Response.Output);
}