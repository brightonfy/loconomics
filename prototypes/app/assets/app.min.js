!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){this.$activity=a,this.$datepicker=a.find("#calendarDatePicker"),this.$dailyView=a.find("#calendarDailyView"),this.$dateHeader=a.find("#calendarDateHeader"),this.$dateTitle=this.$dateHeader.children(".CalendarDateHeader-date"),this.$appointmentView=a.find("#calendarAppointmentView"),this.$chooseNew=a.find("#calendarChooseNew"),this.app=c,this.$datepicker.show().datepicker(),this.$dailyView.on("swipeleft",function(a){a.preventDefault(),this.$datepicker.datepicker("moveValue","next","date")}.bind(this)).on("swiperight",function(a){a.preventDefault(),this.$datepicker.datepicker("moveValue","prev","date")}.bind(this)),this.$dateHeader.on("tap",".CalendarDateHeader-switch",function(a){switch(a.currentTarget.getAttribute("href")){case"#prev":this.$datepicker.datepicker("moveValue","prev","date");break;case"#next":this.$datepicker.datepicker("moveValue","next","date");break;default:return}a.preventDefault(),a.stopPropagation()}.bind(this)),this.$dateTitle.on("tap",function(a){this.$datepicker.toggleClass("is-visible"),a.preventDefault(),a.stopPropagation()}.bind(this)),a.on("tap",'[data-toggle="activity"][data-target="calendar-appointment"]',function(a){this.$chooseNew.modal("hide"),this.showAppointment(),a.preventDefault()}.bind(this)),this.showDailyView(this.$datepicker.datepicker("getValue"),!0)}var e=(a("jquery"),a("moment"));a("../components/DatePicker");var f=null;c.init=function(a,b,c){null===f?f=new d(a,b,c):f.show(b)},d.prototype.show=function(a){if(this.$appointmentView.is(":visible")&&null!=a)if("textEditor"===a.request){var b=this.appointmentsDataView.currentAppointment();b&&b[a.field](a.text)}else a.selectClient===!0&&a.selectedClient&&this.appointmentsDataView.currentAppointment().client(a.selectedClient)},d.prototype.updateDateTitle=function(a){a=e(a);var b=this.$dateTitle.children("time:eq(0)");b.attr("datetime",a.toISOString()),b.text(a.format("dddd (M/D)")),this.$datepicker.removeClass("is-visible")},d.prototype.bindDateData=function(a){var b=e(a).format("YYYY-MM-DD"),c=this.dailyDataView.slotsData;this.dailyDataView.slots(c.hasOwnProperty(b)?c[b]:c["default"])};{var g=a("knockout");a("../models/CalendarSlot")}d.prototype.showDailyView=function(b,c){if((c||!this.$dailyView.is(":visible"))&&(this.$appointmentView.hide(),this.$dailyView.show()),!this.__initedDailyView){this.__initedDailyView=!0;var d=a("../testdata/calendarSlots").calendar;this.dailyDataView={slots:g.observableArray([]),slotsData:d},g.applyBindings(this.dailyDataView,this.$dailyView.get(0)),this.$datepicker.on("changeDate",function(a){"days"===a.viewMode&&this.showDailyView(a.date)}.bind(this)),this.$dailyView.on("tap",".ListView-item a",function(a){var b=a.currentTarget.getAttribute("href");/^#calendar\/appointment/i.test(b)?(this.$chooseNew.modal("hide"),this.showAppointment()):/^#calendar\/new/i.test(b)&&this.$chooseNew.modal("show"),a.preventDefault()}.bind(this))}b&&b instanceof Date&&(this.updateDateTitle(b),this.bindDateData(b))};var h=a("../models/Appointment");d.prototype.showAppointment=function(){this.$dailyView.hide(),this.$appointmentView.show();var b=this.app;if(!this.__initedAppointment){this.__initedAppointment=!0;var c=a("../testdata/calendarAppointments").appointments,d={appointments:g.observableArray(c),currentIndex:g.observable(0),editMode:g.observable(!1),isNew:g.observable(!1)};this.appointmentsDataView=d,d.currentAppointment=g.computed({read:function(){return this.appointments()[this.currentIndex()%this.appointments().length]},write:function(a){var b=this.currentIndex()%this.appointments().length;this.appointments()[b]=a,this.appointments.valueHasMutated()},owner:d}),d.originalEditedAppointment={},d.goPrevious=function(){this.editMode()||this.currentIndex(0===this.currentIndex()?this.appointments().length-1:(this.currentIndex()-1)%this.appointments().length)},d.goNext=function(){this.editMode()||this.currentIndex((this.currentIndex()+1)%this.appointments().length)},d.edit=function(){this.editMode(!0)}.bind(d),d.cancel=function(){d.currentAppointment(new h(d.originalEditedAppointment)),this.editMode(!1)}.bind(d),d.save=function(){this.editMode(!1)}.bind(d),d.editMode.subscribe(function(a){this.$activity.toggleClass("in-edit",a),this.$appointmentView.find(".AppointmentCard").toggleClass("in-edit",a),a&&(d.originalEditedAppointment=g.toJS(d.currentAppointment()))}.bind(this)),d.pickDateTime=function(){window.location="datetimePicker.html"},d.pickClient=function(){b.showActivity("clients",{selectClient:!0,selectedClient:null})},d.pickService=function(){window.location="selectServices.html"},d.changePrice=function(){},d.pickLocation=function(){window.location="selectLocation.html"},d.editNotesToClient=function(){b.showActivity("textEditor",{request:"textEditor",field:"notesToClient",header:"Notes to client",text:d.currentAppointment().notesToClient()})}.bind(this),d.editNotesToSelf=function(){b.showActivity("textEditor",{request:"textEditor",field:"notesToSelf",header:"Notes to self",text:d.currentAppointment().notesToSelf()})}.bind(this),g.applyBindings(d,this.$appointmentView.get(0))}}},{"../components/DatePicker":8,"../models/Appointment":9,"../models/CalendarSlot":10,"../testdata/calendarAppointments":15,"../testdata/calendarSlots":16,knockout:!1,moment:!1}],2:[function(a,b,c){"use strict";function d(b,c){this.$activity=b,this.app=c,this.$index=b.find("#clientsIndex"),this.$listView=b.find("#clientsListView"),this.dataView=new e,f.applyBindings(this.dataView,b.get(0)),this.dataView.clients(a("../testdata/clients").clients),this.dataView.isSelectionMode.subscribe(function(a){this.dataView.headerText(a?"Select a client":"Clients")}.bind(this)),this.requestInfo=null,this.dataView.isSelectionMode.subscribe(function(a){this.requestInfo&&this.requestInfo.selectClient===!0&&a===!1&&(this.requestInfo.selectedClient=this.dataView.selectedClient(),this.app.goBack(this.requestInfo),this.requestInfo=null)}.bind(this))}function e(){this.headerText=f.observable("Clients"),this.isSelectionMode=f.observable(!1),this.clients=f.observableArray([]),this.searchText=f.observable(""),this.getFilteredList=function(){var a=(this.searchText()||"").toLowerCase();return this.clients().filter(function(b){var c=b&&b.fullName()&&b.fullName()||"";return c=c.toLowerCase(),c.indexOf(a)>-1})},this.filteredClients=f.computed(function(){return this.getFilteredList()},this),this.groupedClients=f.computed(function(){var a=this.filteredClients().sort(function(a,b){return a.firstName()>b.firstName()}),b=[],c=null,d=null;return a.forEach(function(a){var e=(a.firstName()[0]||"").toUpperCase();e!==d?(c={letter:e,clients:[a]},b.push(c),d=e):c.clients.push(a)}),b},this),this.selectedClient=f.observable(null),this.selectClient=function(a){this.selectedClient(a),this.isSelectionMode(!1)}.bind(this)}var f=(a("jquery"),a("knockout")),g=null;c.init=function(a,b,c){null===g&&(g=new d(a,c)),g.show(b)},d.prototype.show=function(a){this.dataView.searchText(""),a=a||{},this.requestInfo=a,a.selectClient===!0&&this.dataView.isSelectionMode(!0)}},{"../testdata/clients":17,knockout:!1}],3:[function(a,b,c){"use strict";function d(b){this.$activity=b,this.$datePicker=b.find("#datetimePickerDatePicker"),this.$timePicker=b.find("#datetimePickerTimePicker"),this.$datePicker.show().datepicker();var c=this.dataView=new e;c.headerText="Select a start time",g.applyBindings(c,b.get(0)),this.$datePicker.on("changeDate",function(a){"days"===a.viewMode&&c.selectedDate(a.date)}.bind(this)),this.$timePicker.on("tap",".btn",function(a){a.preventDefault(),history.go(-1)}),c.slotsData=a("../testdata/timeSlots").timeSlots,c.selectedDate.subscribe(function(a){this.bindDateData(a)}.bind(this)),this.bindDateData(new Date)}function e(){this.headerText=g.observable("Select a time"),this.selectedDate=g.observable(new Date),this.slotsData={},this.slots=g.observableArray([]),this.groupedSlots=g.computed(function(){var a=this.slots()&&this.slots()[0]||new Date,b=[{group:"Morning",slots:[],starts:new h(a,0,0),ends:new h(a,12,0)},{group:"Afternoon",slots:[],starts:new h(a,12,0),ends:new h(a,17,0)},{group:"Evening",slots:[],starts:new h(a,17,0),ends:new h(a,24,0)}],c=this.slots().sort();return c.forEach(function(a){b.forEach(function(b){a>=b.starts&&a<b.ends&&b.slots.push(a)})}),b},this)}var f=(a("jquery"),a("moment")),g=a("knockout"),h=a("../utils/Time");a("../components/DatePicker"),c.init=function(a){new d(a)},d.prototype.bindDateData=function(a){var b=f(a).format("YYYY-MM-DD"),c=this.dataView.slotsData;this.dataView.slots(c.hasOwnProperty(b)?c[b]:c["default"])}},{"../components/DatePicker":8,"../testdata/timeSlots":20,"../utils/Time":22,knockout:!1,moment:!1}],4:[function(a,b,c){"use strict";function d(b){this.$activity=b,this.$listView=b.find("#locationsListView");var c=this.dataView=new e;f.applyBindings(c,b.get(0)),c.locations(a("../testdata/locations").locations),c.isSelectionMode()&&c.headerText("Select/Add location")}function e(){this.headerText=f.observable("Locations"),this.locations=f.observableArray([]),this.isSelectionMode=f.observable(!0),this.selectLocation=function(){history.go(-1)}.bind(this)}var f=(a("jquery"),a("knockout"));c.init=function(a){new d(a)}},{"../testdata/locations":18,knockout:!1}],5:[function(a,b,c){"use strict";function d(b){this.$activity=b,this.$listView=b.find("#servicesListView");var c=this.dataView=new f;g.applyBindings(c,b.get(0)),c.services(a("../testdata/services").services.map(e)),c.isSelectionMode()&&c.headerText("Select service(s)")}function e(a){return a.isSelected=g.observable(!1),a}function f(){this.headerText=g.observable("Services"),this.services=g.observableArray([]),this.isSelectionMode=g.observable(!0),this.groupedServices=g.computed(function(){var a=this.services(),b={group:"Services",services:[]},c={group:"Add-on services",services:[]},d=[b,c];return a.forEach(function(a){var d=a.isAddon();d?c.services.push(a):b.services.push(a)}),d},this),this.selectedServices=g.observableArray([]),this.toggleServiceSelection=function(a){var b=-1,c=this.selectedServices().some(function(c,d){return c===a?(b=d,!0):void 0});a.isSelected(!c),c?this.selectedServices.splice(b,1):this.selectedServices.push(a)}.bind(this),this.endSelection=function(){history.go(-1)}.bind(this)}var g=(a("jquery"),a("knockout"));c.init=function(a){new d(a)}},{"../testdata/services":19,knockout:!1}],6:[function(a,b,c){"use strict";function d(a,b,c){this.$activity=a,this.app=c,this.$textarea=this.$activity.find("textarea"),this.textarea=this.$textarea.get(0),this.dataView=new e,f.applyBindings(this.dataView,a.get(0)),this.requestInfo=null,this.dataView.on("saved",function(){this.requestInfo&&(this.requestInfo.text=this.dataView.text()),this.app.goBack(this.requestInfo)}.bind(this)),this.dataView.on("cancel",function(){c.goBack()})}function e(){this.headerText=f.observable("Text"),this.text=f.observable(""),this.rowsNumber=f.observable(2),this.cancel=function(){this.emit("cancel")},this.save=function(){this.emit("saved")}}var f=(a("jquery"),a("knockout")),g=a("events").EventEmitter,h=null;c.init=function(a,b,c){null===h&&(h=new d(a,b,c)),h.show(b)},d.prototype.show=function(a){a=a||{},this.requestInfo=a,this.dataView.headerText(a.header),this.dataView.text(a.text),a.rowsNumber&&this.dataView.rowsNumber(a.rowsNumber),this.textarea.focus(),this.$textarea.click()},e._inherits(g)},{events:!1,knockout:!1}],7:[function(a){"use strict";var b=a("jquery");a("jquery-mobile");var c=a("knockout");c.bindingHandlers.format=a("../vendor/iagosrl/ko/formatBinding").formatBinding,a("./utils/Function.prototype._inherits");var d="/prototypes/app/",e={currentZIndex:1,history:[],unexpectedError:function(a){var b="string"==typeof a?a:JSON.stringify(a);console.error("Unexpected error",a),window.alert(b)},loadActivity:function(a){return new Promise(function(c,f){var g=e.findActivityElement(a);g.length?c(g):b.get(d+a+".html").then(function(d){var h='<div id="body-mock">'+d.replace(/^[\s\S]*<body.*?>|<\/body>[\s\S]*$/g,"")+"</div>",i=b(b.parseHTML(h));g=e.findActivityElement(a,i),g.length?(b("body").append(g),c(g)):f(Error("Activity not found in the source file."))},f)})},findActivityElement:function(a,c){return c=c||b(document),c.find('[data-activity="'+a+'"]')},showActivity:function(a,b){e.loadActivity(a).then(function(c){c.css("zIndex",++e.currentZIndex).show();var d=e.history[e.history.length-1];e.history.push({name:a,$activity:c,options:b}),f[a].init(c,b,e),d.name!==a&&e.hideActivity(d.name)}).catch(e.unexpectedError)},goToActivity:function(a,b){var c=e.history.pop();e.hideActivity(c.name),e.currentZIndex--,e.showActivity(a,b)},hideActivity:function(a){var b=e.findActivityElement(a);b.hide()},goBack:function(a){var b=e.history[e.history.length-2];e.goToActivity(b.name,a)}},f={calendar:a("./activities/calendar"),datetimePicker:a("./activities/datetimePicker"),clients:a("./activities/clients"),services:a("./activities/services"),locations:a("./activities/locations"),textEditor:a("./activities/textEditor")};b(function(){b("[data-activity]").each(function(){var a=b(this),c=a.data("activity");f.hasOwnProperty(c)&&(f[c].init(a,null,e),e.history.push({name:c,$activity:a,options:{}}))})})},{"../vendor/iagosrl/ko/formatBinding":24,"./activities/calendar":1,"./activities/clients":2,"./activities/datetimePicker":3,"./activities/locations":4,"./activities/services":5,"./activities/textEditor":6,"./utils/Function.prototype._inherits":21,knockout:!1}],8:[function(a,b,c){var d=a("jquery"),e={component:"DatePicker",months:"DatePicker-months",days:"DatePicker-days",monthDay:"day",month:"month",year:"year",years:"DatePicker-years"},f=function(a,b){if(this.element=d(a),this.format=g.parseFormat(b.format||this.element.data("date-format")||"mm/dd/yyyy"),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isPlaceholder=this.element.is(".calendar-placeholder"),this.picker=d(g.template).appendTo(this.isPlaceholder?this.element:"body").on("click tap",d.proxy(this.click,this)),this.picker.addClass(this.isPlaceholder?"container":"dropdown-menu"),this.isPlaceholder?(this.picker.show(),"today"==this.element.data("date")&&(this.date=new Date,this.set()),this.element.trigger({type:"show",date:this.date})):this.isInput?this.element.on({focus:d.proxy(this.show,this),keyup:d.proxy(this.update,this)}):this.component?this.component.on("click tap",d.proxy(this.show,this)):this.element.on("click tap",d.proxy(this.show,this)),this.element.on("swipeleft",function(a){a.preventDefault(),this.moveDate("next")}.bind(this)).on("swiperight",function(a){a.preventDefault(),this.moveDate("prev")}.bind(this)),this.minViewMode=b.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=b.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=b.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=b.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};f.prototype={constructor:f,show:function(a){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),d(window).on("resize",d.proxy(this.place,this)),a&&(a.stopPropagation(),a.preventDefault()),!this.isInput;var b=this;d(document).on("mousedown",function(a){0===d(a.target).closest("."+e.component).length&&b.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),d(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||d(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var a=g.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",a),this.element.data("date",a))},setValue:function(a){this.date="string"==typeof a?g.parseDate(a,this.format):new Date(a),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill(),this.element.trigger({type:"changeDate",date:this.date,viewMode:g.modes[this.viewMode].clsName})},getValue:function(){return this.date},moveValue:function(a,b){return-1!=["prev","next"].indexOf(a&&a.toLowerCase())?(b=b?g.modesSet[b]:g.modes[this.viewMode],this.date["set"+b.navFnc].call(this.date,this.date["get"+b.navFnc].call(this.date)+b.navStep*("prev"===a?-1:1)),this.setValue(this.date),this.date):void 0},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=g.parseDate("string"==typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+g.dates.daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find("."+e.days+" thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="'+e.month+'">'+g.dates.monthsShort[b++]+"</span>";this.picker.find("."+e.months+" td").append(a)},fill:function(){var a=new Date(this.viewDate),b=a.getFullYear(),c=a.getMonth(),d=this.date.valueOf();this.picker.find("."+e.days+" th:eq(1)").html(g.dates.months[c]+" "+b);var f=new Date(b,c-1,28,0,0,0,0),h=g.getDaysInMonth(f.getFullYear(),f.getMonth());f.setDate(h),f.setDate(h-(f.getDay()-this.weekStart+7)%7);var i=new Date(f);i.setDate(i.getDate()+42),i=i.valueOf();var j,k,l,m=[];if(this._daysCreated!==!0){for(;f.valueOf()<i;)f.getDay()===this.weekStart&&m.push("<tr>"),j=this.onRender(f),k=f.getFullYear(),l=f.getMonth(),c>l&&k===b||b>k?j+=" old":(l>c&&k===b||k>b)&&(j+=" new"),f.valueOf()===d&&(j+=" active"),m.push('<td class="'+e.monthDay+" "+j+'">'+f.getDate()+"</td>"),f.getDay()===this.weekEnd&&m.push("</tr>"),f.setDate(f.getDate()+1);this.picker.find("."+e.days+" tbody").empty().append(m.join("")),this._daysCreated=!0}else for(var n=this.picker.find("."+e.days+" tbody tr:first-child()"),o=null;f.valueOf()<i;){var p=f.getDay()-this.weekStart;j=this.onRender(f),k=f.getFullYear(),l=f.getMonth(),c>l&&k===b||b>k?j+=" old":(l>c&&k===b||k>b)&&(j+=" new"),f.valueOf()===d&&(j+=" active"),o=n.find("td:eq("+p+")"),o.attr("class","day "+j).text(f.getDate()),f.getDay()===this.weekEnd&&(n=n.next("tr")),f.setDate(f.getDate()+1)}var q=this.date.getFullYear(),r=this.picker.find("."+e.months).find("th:eq(1)").html(b).end().find("span").removeClass("active");q===b&&r.eq(this.date.getMonth()).addClass("active"),m="",b=10*parseInt(b/10,10);var s=this.picker.find("."+e.years).find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;var t;if(this._yearsCreated!==!0){for(t=-1;11>t;t++)m+='<span class="'+e.year+(-1===t||10===t?" old":"")+(q===b?" active":"")+'">'+b+"</span>",b+=1;s.html(m),this._yearsCreated=!0}else{var u=s.find("span:first-child()");for(t=-1;11>t;t++)u.text(b).attr("class","year"+(-1===t||10===t?" old":"")+(q===b?" active":"")),b+=1,u=u.next()}},moveDate:function(a,b){-1!=["prev","next"].indexOf(a&&a.toLowerCase())&&(b=b||this.viewMode,this.viewDate["set"+g.modes[b].navFnc].call(this.viewDate,this.viewDate["get"+g.modes[b].navFnc].call(this.viewDate)+g.modes[b].navStep*("prev"===a?-1:1)),this.fill(),this.set())},click:function(a){a.stopPropagation(),a.preventDefault();var b=d(a.target).closest("span, td, th");if(1===b.length){var c,f;switch(b[0].nodeName.toLowerCase()){case"th":switch(b[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.moveDate(b[0].className)}break;case"span":b.is("."+e.month)?(c=b.parent().find("span").index(b),this.viewDate.setMonth(c)):(f=parseInt(b.text(),10)||0,this.viewDate.setFullYear(f)),0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:g.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(b.is(".day")&&!b.is(".disabled")){var h=parseInt(b.text(),10)||1;c=this.viewDate.getMonth(),b.is(".old")?c-=1:b.is(".new")&&(c+=1),f=this.viewDate.getFullYear(),this.date=new Date(f,c,h,0,0,0,0),this.viewDate=new Date(f,c,Math.min(28,h),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:g.modes[this.viewMode].clsName})}}}},mousedown:function(a){a.stopPropagation(),a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter("."+e.component+"-"+g.modes[this.viewMode].clsName).show()}},d.fn.datepicker=function(a){var b,c=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=d(this),g=e.data("datepicker"),h="object"==typeof a&&a;return g||e.data("datepicker",g=new f(this,d.extend({},d.fn.datepicker.defaults,h))),"string"==typeof a?(b=g[a].apply(g,c),!1):void 0}),"undefined"!=typeof b?b:this},d.fn.datepicker.defaults={onRender:function(){return""}},d.fn.datepicker.Constructor=f;var g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"day",navFnc:"Date",navStep:1}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,g.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/\-\s].*?/),c=a.split(/\W+/);if(!b||!c||0===c.length)throw new Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(a,b){var c,d=a.split(b.separator);if(a=new Date,a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),d.length===b.parts.length){for(var e=a.getFullYear(),f=a.getDate(),g=a.getMonth(),h=0,i=b.parts.length;i>h;h++)switch(c=parseInt(d[h],10)||1,b.parts[h]){case"dd":case"d":f=c,a.setDate(c);break;case"mm":case"m":g=c-1,a.setMonth(c-1);break;case"yy":e=2e3+c,a.setFullYear(2e3+c);break;case"yyyy":e=c,a.setFullYear(c)}a=new Date(e,g,f,0,0,0)}return a},formatDate:function(a,b){var c={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};c.dd=(c.d<10?"0":"")+c.d,c.mm=(c.m<10?"0":"")+c.m,a=[];for(var d=0,e=b.parts.length;e>d;d++)a.push(c[b.parts[d]]);return a.join(b.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};g.template='<div class="'+e.component+'"><div class="'+e.days+'"><table class=" table-condensed">'+g.headTemplate+'<tbody></tbody></table></div><div class="'+e.months+'"><table class="table-condensed">'+g.headTemplate+g.contTemplate+'</table></div><div class="'+e.years+'"><table class="table-condensed">'+g.headTemplate+g.contTemplate+"</table></div></div>",g.modesSet={date:g.modes[3],month:g.modes[0],year:g.modes[1],decade:g.modes[2]},c.DatePicker=f,c.defaults=g,c.utils=g},{}],9:[function(a,b){"use strict";function c(a){e(this),this.model.defProperties({startTime:null,endTime:null,subtotalPrice:0,feePrice:0,pfeePrice:0,totalPrice:0,ptotalPrice:0,pricing:{},pricingSummary:"",location:{},locationSummary:"",notesToClient:"",notesToSelf:""},a),this.client=d.observable(new f(a.client))}var d=a("knockout"),e=a("./Model"),f=a("./Client");b.exports=c},{"./Client":11,"./Model":13,knockout:!1}],10:[function(a,b){"use strict";function c(a){d(this),this.model.defProperties({startTime:null,endTime:null,subject:"",description:null,link:"#",actionIcon:null,actionText:null,classNames:""},a)}{var d=(a("knockout"),a("./Model"));a("./Client")}b.exports=c},{"./Client":11,"./Model":13,knockout:!1}],11:[function(a,b){"use strict";function c(a){e(this),this.model.defProperties({firstName:"",lastName:""},a),this.fullName=d.computed(function(){return this.firstName()+" "+this.lastName()},this)}var d=a("knockout"),e=a("./Model");b.exports=c},{"./Model":13,knockout:!1}],12:[function(a,b){"use strict";function c(a){e(this),this.model.defProperties({name:"",addressLine1:null,addressLine2:null,city:null,stateProvinceCode:null,stateProviceID:null,postalCode:null,postalCodeID:null,countryID:null,latitude:null,longitude:null,specialInstructions:null},a),this.singleLine=d.computed(function(){var a=[this.addressLine1(),this.city(),this.postalCode(),this.stateProvinceCode()];return a.filter(function(a){return!!a}).join(", ")},this),this.countryName=d.computed(function(){return 1===this.countryID()?"United States":2===this.countryID()?"Spain":"unknow"},this),this.countryCodeAlpha2=d.computed(function(){return 1===this.countryID()?"US":2===this.countryID()?"ES":""},this),this.latlng=d.computed(function(){return{lat:this.latitude(),lng:this.longitude()}},this)}var d=a("knockout"),e=a("./Model");b.exports=c},{"./Model":13,knockout:!1}],13:[function(a,b){"use strict";function c(a){if(!(this instanceof c)){var b=new c(a);return a.model=b,b}this.modelObject=a}var d=a("knockout");b.exports=c,c.prototype.defProperties=function(a,b){b=b||{};var c=this.modelObject;Object.keys(a).forEach(function(e){var f=a[e];c[e]=Array.isArray(f)?d.observableArray(f):d.observable(f),c[e]._defaultValue=f,"undefined"!=typeof b[e]&&c[e](b[e])})},c.prototype.defFields=function(a,b){b=b||{};var c=this.modelObject;Object.keys(properties).each(function(a){var d=properties[a];c[a]=d,"undefined"!=typeof b[a]&&(c[a]=b[a])})}},{knockout:!1}],14:[function(a,b){"use strict";function c(a){e(this),this.model.defProperties({name:"",price:0,duration:0,isAddon:!1},a),this.durationText=d.computed(function(){var a=this.duration()||0;return a?a+" minutes":""},this)}var d=a("knockout"),e=a("./Model");b.exports=c},{"./Model":13,knockout:!1}],15:[function(a,b,c){var d=a("../models/Appointment"),e=[new d({startTime:new Date(2014,11,1,10,0,0),endTime:new Date(2014,11,1,12,0,0),pricingSummary:"Deep Tissue Massage 120m plus 2 more",ptotalPrice:95,locationSummary:"3150 18th Street San Francisco, CA",notesToClient:"Looking forward to seeing the new color",notesToSelf:"Ask him about his new color",client:{firstName:"Joshua",lastName:"Danielson"}}),new d({startTime:new Date(2014,11,1,13,0,0),endTime:new Date(2014,11,1,13,50,0),pricingSummary:"Another Massage 50m",ptotalPrice:95,locationSummary:"3150 18th Street San Francisco, CA",notesToClient:"Something else",notesToSelf:"Remember that thing",client:{firstName:"Joshua",lastName:"Danielson"}}),new d({startTime:new Date(2014,11,1,16,0,0),endTime:new Date(2014,11,1,18,0,0),pricingSummary:"Tissue Massage 120m",ptotalPrice:95,locationSummary:"3150 18th Street San Francisco, CA",notesToClient:"",notesToSelf:"Ask him about the forgotten notes",client:{firstName:"Joshua",lastName:"Danielson"}})];c.appointments=e},{"../models/Appointment":9}],16:[function(a,b,c){var d=a("../models/CalendarSlot"),e=[new d({startTime:new Date(2014,11,1,0,0,0),endTime:new Date(2014,11,1,12,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"}),new d({startTime:new Date(2014,11,1,12,0,0),endTime:new Date(2014,11,1,13,0,0),subject:"Josh Danielson",description:"Deep Tissue Massage",link:"#calendar/appointment/3",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:null}),new d({startTime:new Date(2014,11,1,13,0,0),endTime:new Date(2014,11,1,15,0,0),subject:"Do that important thing",description:null,link:"#calendar/event/8",actionIcon:"glyphicon glyphicon-new-window",actionText:null,classNames:null}),new d({startTime:new Date(2014,11,1,15,0,0),endTime:new Date(2014,11,1,16,0,0),subject:"Iago Lorenzo",description:"Deep Tissue Massage Long Name",link:"#calendar/appointment/5",actionIcon:null,actionText:"$159.90",classNames:null}),new d({startTime:new Date(2014,11,1,16,0,0),endTime:new Date(2014,11,2,0,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"})],f=[new d({startTime:new Date(2014,11,2,0,0,0),endTime:new Date(2014,11,2,9,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"}),new d({startTime:new Date(2014,11,2,9,0,0),endTime:new Date(2014,11,2,10,0,0),subject:"Jaren Freely",description:"Deep Tissue Massage Long Name",link:"#calendar/appointment/1",actionIcon:null,actionText:"$59.90",classNames:null}),new d({startTime:new Date(2014,11,2,10,0,0),endTime:new Date(2014,11,2,11,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"}),new d({startTime:new Date(2014,11,2,11,0,0),endTime:new Date(2014,11,2,12,45,0),subject:"CONFIRM-Susan Dee",description:"Deep Tissue Massage",link:"#calendar/appointment/2",actionIcon:null,actionText:"$70",classNames:"ListView-item--tag-warning"}),new d({startTime:new Date(2014,11,2,12,45,0),endTime:new Date(2014,11,2,16,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"}),new d({startTime:new Date(2014,11,2,16,0,0),endTime:new Date(2014,11,2,17,15,0),subject:"Susan Dee",description:"Deep Tissue Massage",link:"#calendar/appointment/3",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:null}),new d({startTime:new Date(2014,11,2,17,15,0),endTime:new Date(2014,11,2,18,30,0),subject:"Dentist appointment",description:null,link:"#calendar/event/4",actionIcon:"glyphicon glyphicon-new-window",actionText:null,classNames:null}),new d({startTime:new Date(2014,11,2,18,30,0),endTime:new Date(2014,11,2,19,30,0),subject:"Susan Dee",description:"Deep Tissue Massage Long Name",link:"#calendar/appointment/5",actionIcon:null,actionText:"$159.90",classNames:null}),new d({startTime:new Date(2014,11,2,19,30,0),endTime:new Date(2014,11,2,23,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"}),new d({startTime:new Date(2014,11,2,23,0,0),endTime:new Date(2014,11,3,0,0,0),subject:"Jaren Freely",description:"Deep Tissue Massage",link:"#calendar/appointment/6",actionIcon:null,actionText:"$80",classNames:null})],g=[new d({startTime:new Date(2014,0,1,0,0,0),endTime:new Date(2014,0,2,0,0,0),subject:"Free",description:null,link:"#calendar/new",actionIcon:"glyphicon glyphicon-plus",actionText:null,classNames:"ListView-item--tag-success"})],h={"2014-12-01":e,"2014-12-02":f,"default":g};c.calendar=h},{"../models/CalendarSlot":10}],17:[function(a,b,c){var d=a("../models/Client"),e=[new d({firstName:"Joshua",lastName:"Danielson"}),new d({firstName:"Iago",lastName:"Lorenzo"}),new d({firstName:"Fernando",lastName:"Gago"}),new d({firstName:"Adam",lastName:"Finch"}),new d({firstName:"Alan",lastName:"Ferguson"}),new d({firstName:"Alex",lastName:"Pena"}),new d({firstName:"Alexis",lastName:"Peaca"}),new d({firstName:"Arthur",lastName:"Miller"})];
c.clients=e},{"../models/Client":11}],18:[function(a,b,c){var d=a("../models/Location"),e=[new d({name:"ActviSpace",addressLine1:"3150 18th Street"}),new d({name:"Corey's Apt",addressLine1:"187 Bocana St."}),new d({name:"Josh'a Apt",addressLine1:"429 Corbett Ave"})];c.locations=e},{"../models/Location":12}],19:[function(a,b,c){var d=a("../models/Service"),e=[new d({name:"Deep Tissue Massage",price:95,duration:120}),new d({name:"Tissue Massage",price:60,duration:60}),new d({name:"Special oils",price:95,isAddon:!0}),new d({name:"Some service extra",price:40,duration:20,isAddon:!0})];c.services=e},{"../models/Service":14}],20:[function(a,b,c){var d=a("../utils/Time"),e=a("moment"),f=new Date,g=new Date;g.setDate(g.getDate()+1);var h=e(f).format("YYYY-MM-DD"),i=e(g).format("YYYY-MM-DD"),j=[d(f,9,15),d(f,11,30),d(f,12,0),d(f,12,30),d(f,16,15),d(f,18,0),d(f,18,30),d(f,19,0),d(f,19,30),d(f,21,30),d(f,22,0)],k=[d(g,8,0),d(g,10,30),d(g,11,0),d(g,11,30),d(g,12,0),d(g,12,30),d(g,13,0),d(g,13,30),d(g,14,45),d(g,16,0),d(g,16,30)],l=[],m={"default":l};m[h]=j,m[i]=k,c.timeSlots=m},{"../utils/Time":22,moment:!1}],21:[function(){Function.prototype._inherits=function(a){this.prototype=Object.create(a.prototype,{constructor:{value:this,enumerable:!1,writable:!0,configurable:!0}})}},{}],22:[function(a,b){function c(a,b,c,d){return a instanceof Date||(d=c,c=b,b=a,a=new Date),new Date(a.getFullYear(),a.getMonth(),a.getDate(),b||0,c||0,d||0)}b.exports=c},{}],23:[function(a,b){(function(){function a(a){this._value=a}function c(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function d(a,b,c){var d;return d=b.indexOf("$")>-1?f(a,b,c):b.indexOf("%")>-1?g(a,b,c):b.indexOf(":")>-1?h(a,b):j(a._value,b,c)}function e(a,b){var c,d,e,f,g,h=b,j=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=i(b);else if(b===r)a._value=0;else{for("."!==p[q].delimiters.decimal&&(b=b.replace(/\./g,"").replace(p[q].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+p[q].abbreviations.thousand+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+p[q].abbreviations.million+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+p[q].abbreviations.billion+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+p[q].abbreviations.trillion+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),g=0;g<=j.length&&!(k=b.indexOf(j[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(h.match(c)?Math.pow(10,3):1)*(h.match(d)?Math.pow(10,6):1)*(h.match(e)?Math.pow(10,9):1)*(h.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function f(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=j(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,p[q].currency.symbol+i),e=e.join("")):e=p[q].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+p[q].currency.symbol),e=e.join("")):e=e+i+p[q].currency.symbol,e}function g(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=j(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function h(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function i(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function j(a,b,d){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",o=!1,s=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==r)return r;if(b.indexOf("(")>-1?(k=!0,b=b.slice(1,-1)):b.indexOf("+")>-1&&(l=!0,b=b.replace(/\+/g,"")),b.indexOf("a")>-1&&(o=b.indexOf("aK")>=0,s=b.indexOf("aM")>=0,t=b.indexOf("aB")>=0,u=b.indexOf("aT")>=0,v=o||s||t||u,b.indexOf(" a")>-1?(n=" ",b=b.replace(" a","")):b=b.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=p[q].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=p[q].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||s?(n+=p[q].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||o)&&(n+=p[q].abbreviations.thousand,a/=Math.pow(10,3))),b.indexOf("b")>-1)for(b.indexOf(" b")>-1?(w=" ",b=b.replace(" b","")):b=b.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return b.indexOf("o")>-1&&(b.indexOf(" o")>-1?(x=" ",b=b.replace(" o","")):b=b.replace("o",""),x+=p[q].ordinal(a)),b.indexOf("[.]")>-1&&(m=!0,b=b.replace("[.]",".")),h=a.toString().split(".")[0],i=b.split(".")[1],j=b.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=c(a,i[0].length+i[1].length,d,i[1].length)):A=c(a,i.length,d),h=A.split(".")[0],A=A.split(".")[1].length?p[q].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=c(a,null,d),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p[q].delimiters.thousands)),0===b.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function k(a,b){p[a]=b}function l(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function m(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=l(a),d=l(b);return c>d?c:d},-1/0)}var n,o="1.5.3",p={},q="en",r=null,s="0,0",t="undefined"!=typeof b&&b.exports;n=function(b){return n.isNumeral(b)?b=b.value():0===b||"undefined"==typeof b?b=0:Number(b)||(b=n.fn.unformat(b)),new a(Number(b))},n.version=o,n.isNumeral=function(b){return b instanceof a},n.language=function(a,b){if(!a)return q;if(a&&!b){if(!p[a])throw new Error("Unknown language : "+a);q=a}return(b||!p[a])&&k(a,b),n},n.languageData=function(a){if(!a)return p[q];if(!p[a])throw new Error("Unknown language : "+a);return p[a]},n.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),n.zeroFormat=function(a){r="string"==typeof a?a:null},n.defaultFormat=function(a){s="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),n.fn=a.prototype={clone:function(){return n(this)},format:function(a,b){return d(this,a?a:s,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:e(this,a?a:s)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b){return a+c*b}var c=m.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b){return a-c*b}var c=m.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b){var c=m(a,b);return a*c*b*c/(c*c)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b){var c=m(a,b);return a*c/(b*c)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(n(this._value).subtract(a).value())}},t&&(b.exports=n),"undefined"==typeof ender&&(this.numeral=n),"function"==typeof define&&define.amd&&define([],function(){return n})}).call(this)},{}],24:[function(a,b,c){"use strict";function d(a,b,d){var g=e.unwrap(d.type);if(g&&a&&g in c.types){var h=c.types[g],i=h.format(a,d,e.dataFor(b));"html"in h&&h.html===!0?f(b).html(i):f(b).text(i)}}var e=a("knockout"),f=a("jquery");c.types={},c.formatBinding={update:function(a,b,c){var f=e.unwrap(b()),g=e.unwrap(c.get("text"));d(g,a,f,e.dataFor(a))}},c.types.link={html:!0,format:function(a,b,c){var e=b?b.link?b.link:b:null;e="string"==typeof e?e:null;var g=a;if(e){g=f("<a/>");var h=b&&b.title?b.title:null,i=b&&b.target?b.target:null;g.attr("href",e.replace(/__value__/g,a)),h&&g.attr("title",h.replace(/__value__/g,a)),i&&g.attr("target",i),b.contentFormat?d(a,g,b.contentFormat,c):g.text(a),g=g.outerHtml()}return g}};a("moment");c.types.datetime={format:function(b,c){var d=a("moment");if(!b)return c.default||c.invalid||"";var e=d(b);return e.isValid()?e.format(c.format):c.invalid||""}},c.types.concat={format:function(a,b,c){var d=f.map(b.format,function(a){var b=/["'](.*)["']/.exec(a);return b&&b.length>1?b[1]:c[a]});return d.join("")}};a("numeral");c.types.number={format:function(b,c){var d=a("numeral");return d(b).format(c.format)}},c.types.bool={format:function(a,b){var c=b.values;return c&&2===c.length||(c=["true","false"]),a?c[0]:c[1]}}},{knockout:!1,moment:!1,numeral:23}]},{},[7]);