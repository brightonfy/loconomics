<!-- Activity clients -->
<div class="container-fluid" data-activity="clients" data-bind="css: { 'is-searching': searchText() }">

  <h2 class="SectionTitle" data-bind="visible: headerText">
      <span data-bind="text: headerText">Clients</span>
  </h2>
    
    <div data-bind="css: { 'is-loading': isLoading }">
        <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
    </div>

  <div class="isolated">
    <div class="input-group">
      <span class="input-group-addon" data-bind="css: { 'is-syncing': isSyncing }">
        <app-loading-spinner params="mod: 'floating'"></app-loading-spinner>
        <span class="glyphicon glyphicon-search"></span>
        <span class="sr-only">Search</span>
      </span>
      <input type="text" class="form-control" placeholder="search clients" data-bind="textInput: searchText">
        <span class="input-group-btn">
            <a href="#" class="btn btn-secondary" data-bind="event: { tap: addNew }">Add</a>
        </span>
    </div><!-- /input-group -->
  </div>

  <div id="clientsIndex" data-disabled-spy="affix" data-offset-top="20">
    <ul class="nav nav-tabs nav-stacked" data-bind="foreach: groupedClients">
        <li><a href="#clientsListView-A" data-bind="attr: { 'href': ('#clientsListView-' + letter) }, text: letter"></a></li>
    </ul>
  </div>

    <div class="isolated" data-bind="visible: clients().length === 0 && !isLoading()">
        You have no clients yet. Search for clients that may already be on Loconomics or add clients of your own.
    </div>
    
  <div id="clientsListView">
    <div class="SimpleList" data-bind="foreach: groupedClients">
      <div class="SimpleList-divider" data-bind="attr: { 'id': ('clientsListView-' + letter) }">
        <strong data-bind="text: letter"></strong>
      </div>
      <!-- ko foreach: clients -->
        <div class="SimpleList-item">
          <a href="#" class="btn btn-link btn-block" data-bind="event: { tap: $root.isSelectionMode() && $root.selectClient }, attr: { href: $root.isSelectionMode() ? '#' : '/clientEditor/' + customerUserID() }">
            <strong data-bind="text: firstName"></strong> <span data-bind="text: lastName"></span>
          </a>
        </div>
      <!-- /ko -->
    </div>
  </div>
    <!-- NOTE: important the extra visible binding, to avoid some bad scrollbar side effects on the page -->
    <div data-bind="css: { 'is-loading': publicSearchRunning() !== null }, visible: publicSearchRunning() !== null">
        <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
    </div>
    <div data-bind="if: publicSearchResults().length > 0">
        <h3 class="SectionTitle">Results from Loconomics.com</h3>
        <div class="SimpleList" data-bind="foreach: publicSearchResults">
            <div class="SimpleList-item">
              <a href="#" class="btn btn-link btn-block" data-bind="event: { tap: $root.addRemoteClient }">
                <strong data-bind="text: firstName"></strong> <span data-bind="text: lastName"></span>
              </a>
            </div>
        </div>
    </div>


</div>
